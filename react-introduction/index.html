<!DOCTYPE html>
<html lang="en" class="dark light">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="base" content="https:&#x2F;&#x2F;kiberstender.github.io">

    

    
    
    
    <title>
         React- The introduction
        
    </title>

        
            <meta property="og:title" content="React- The introduction" />
        
     

     
         
             <meta property="og:description" content="A blog to spread my ideas" />
         
     

     
         
             <meta name="description" content="A blog to spread my ideas" />
         
    

    
    

    
    
        <link href=https://kiberstender.github.io/fonts.css rel="stylesheet" />
    

    
    

    
    

    
    

    
    

    

    
    <link rel="alternate" type="application/atom+xml" title="kiberBlog" href="https://kiberstender.github.io/atom.xml">


    
    
        <link rel="stylesheet" type="text/css" href=https://kiberstender.github.io/theme/light.css />
        <link rel="stylesheet" type="text/css" href="https://kiberstender.github.io/theme/dark.css" media="(prefers-color-scheme: dark)" />
    

    <!-- Set the correct theme in the script -->

    
        <script src=https://kiberstender.github.io/js/themetoggle.js></script>

        
            <script>
                if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    setTheme("dark");
                } else {
                    setTheme("light");
                }
            </script>
        
    


    <link rel="stylesheet" type="text/css" media="screen" href=https://kiberstender.github.io/main.css />

    

    </head>


<body>
    <div class="content">
        <header>
    <div class="main">
        
            <a href=https:&#x2F;&#x2F;kiberstender.github.io>kiberBlog</a>
        


        <div class="socials">
            
        </div>
    </div>

    <nav>
        

        

        
    </nav>
</header>


        
        
    
<main>
    <article>
        <div class="title">
            
            
    <div class="page-header">
        React- The introduction<span class="primary-color" style="font-size: 1.6em">.</span>
    </div>


                <div class="meta">
                    
                        Posted on <time>2020-05-23</time>
                    

                    

                    

                    
                        :: 3676 Words
                    

                    
                    
                            <span class="tags-label"> :: Tags:</span>
                            <span class="tags">
                                    <a href="https://kiberstender.github.io/tags/react/" class="post-tag">react</a>, 
                                
                                    <a href="https://kiberstender.github.io/tags/introduction/" class="post-tag">introduction</a>
                                
                            </span>
                    

                    
                    

                    

                </div>
        </div>

        

        
        

        <section class="body">
            <h1 id="intro">Introduction</h1>
<p>This post starts a new series in this blog talking about a famous Javascript Framework named <a href="https://reactjs.org/">React JS</a>. React is a <a href="https://www.reactivemanifesto.org/">reactive</a> framework which aims for better responsiveness of the application where parts of your system "listen" to each other and at any change they react to it by doing some action like re-rendering or fetching data from a backend server, etc. This is an evolution of the <a href="https://en.wikipedia.org/wiki/Observer_pattern">Observable Pattern</a>.</p>
<p>To better focus on React in these posts I will not talk about NodeJS and Webpack but if you want/need to learn these two things please refer to these previous posts I made:</p>
<ol>
<li><a href="https://kiberstender.github.io/node-js-introduction/">NodeJS- A very simple introduction</a></li>
<li><a href="https://kiberstender.github.io/webpack-introduction/">Webpack- A complete introduction</a></li>
<li><a href="https://kiberstender.github.io/webpack-frontend/">Webpack- Starting a frontend</a></li>
</ol>
<p>All of them teaches with practice and working codes, what you have to do to have a functioning basic Node/Webpack application with SASS. But if you already have knowledge on all of these and only want to focus on learning React, clone my bitbucket repo and checkout <code>webpack_frontend</code> branch:</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#bf616a;">git</span><span> clone https://bitbucket.org/kiberStender/node_app.git
</span><span style="color:#96b5b4;">cd</span><span> node_app/
</span><span style="color:#bf616a;">git</span><span> checkout</span><span style="color:#bf616a;"> --track</span><span> origin/webpack_frontend
</span></code></pre>
<p>This branch has all the code developed throughout the three posts above. Everything said let's dive in and learn about React.</p>
<h1 id="react">React JS</h1>
<p>What does exactly React JS do that deserves your attention? I'm going to show you two pieces of code and I want you try to figure out which one executes faster:</p>
<ol>
<li><pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">let </span><span style="color:#bf616a;">arr </span><span>= [</span><span style="color:#d08770;">0</span><span>,</span><span style="color:#d08770;">1</span><span>,</span><span style="color:#d08770;">2</span><span>,</span><span style="color:#d08770;">3</span><span>,</span><span style="color:#d08770;">4</span><span>,</span><span style="color:#d08770;">5</span><span>,</span><span style="color:#d08770;">6</span><span>,</span><span style="color:#d08770;">7</span><span>,</span><span style="color:#d08770;">8</span><span>,</span><span style="color:#d08770;">9</span><span>,</span><span style="color:#d08770;">10</span><span>,</span><span style="color:#d08770;">11</span><span>,</span><span style="color:#d08770;">12</span><span>,</span><span style="color:#d08770;">13</span><span>,</span><span style="color:#d08770;">14</span><span>,</span><span style="color:#d08770;">15</span><span>,</span><span style="color:#d08770;">16</span><span>,</span><span style="color:#d08770;">17</span><span>,</span><span style="color:#d08770;">18</span><span>,</span><span style="color:#d08770;">19</span><span>,</span><span style="color:#d08770;">20</span><span>];
</span><span style="color:#b48ead;">let </span><span style="color:#bf616a;">ul </span><span>= document.</span><span style="color:#96b5b4;">querySelector</span><span>(&quot;</span><span style="color:#a3be8c;">#a_ul</span><span>&quot;); </span><span style="color:#65737e;">// an unordered list &lt;ul id=&quot;a_ul&quot;&gt;&lt;ul/&gt;
</span><span>
</span><span style="color:#b48ead;">for </span><span>(</span><span style="color:#b48ead;">const </span><span style="color:#bf616a;">item </span><span>of </span><span style="color:#bf616a;">arr</span><span>) {
</span><span>  </span><span style="color:#bf616a;">ul</span><span>.</span><span style="color:#bf616a;">innerHTML </span><span>+= `</span><span style="color:#a3be8c;">&lt;li&gt;${</span><span style="color:#bf616a;">item</span><span style="color:#a3be8c;">}&lt;/li&gt;</span><span>`;
</span><span>}
</span></code></pre>
</li>
<li><pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">let </span><span style="color:#bf616a;">arr </span><span>= [
</span><span>  </span><span style="color:#d08770;">0</span><span>,</span><span style="color:#d08770;">1</span><span>,</span><span style="color:#d08770;">2</span><span>,</span><span style="color:#d08770;">3</span><span>,</span><span style="color:#d08770;">4</span><span>,</span><span style="color:#d08770;">5</span><span>,</span><span style="color:#d08770;">6</span><span>,</span><span style="color:#d08770;">7</span><span>,</span><span style="color:#d08770;">8</span><span>,</span><span style="color:#d08770;">9</span><span>,</span><span style="color:#d08770;">10</span><span>,</span><span style="color:#d08770;">11</span><span>,</span><span style="color:#d08770;">12</span><span>,</span><span style="color:#d08770;">13</span><span>,</span><span style="color:#d08770;">14</span><span>,</span><span style="color:#d08770;">15</span><span>,</span><span style="color:#d08770;">16</span><span>,</span><span style="color:#d08770;">17</span><span>,</span><span style="color:#d08770;">18</span><span>,</span><span style="color:#d08770;">19</span><span>,</span><span style="color:#d08770;">20</span><span>,
</span><span>  </span><span style="color:#d08770;">21</span><span>,</span><span style="color:#d08770;">22</span><span>,</span><span style="color:#d08770;">23</span><span>,</span><span style="color:#d08770;">24</span><span>,</span><span style="color:#d08770;">25</span><span>,</span><span style="color:#d08770;">26</span><span>,</span><span style="color:#d08770;">27</span><span>,</span><span style="color:#d08770;">28</span><span>,</span><span style="color:#d08770;">29</span><span>,</span><span style="color:#d08770;">30</span><span>,</span><span style="color:#d08770;">31</span><span>,</span><span style="color:#d08770;">32</span><span>,</span><span style="color:#d08770;">33</span><span>,</span><span style="color:#d08770;">34</span><span>,</span><span style="color:#d08770;">35</span><span>,</span><span style="color:#d08770;">36</span><span>,</span><span style="color:#d08770;">37</span><span>,</span><span style="color:#d08770;">38</span><span>,</span><span style="color:#d08770;">39</span><span>,</span><span style="color:#d08770;">40</span><span>,
</span><span>  </span><span style="color:#d08770;">41</span><span>,</span><span style="color:#d08770;">42</span><span>,</span><span style="color:#d08770;">43</span><span>,</span><span style="color:#d08770;">44</span><span>,</span><span style="color:#d08770;">45</span><span>,</span><span style="color:#d08770;">46</span><span>,</span><span style="color:#d08770;">47</span><span>,</span><span style="color:#d08770;">48</span><span>,</span><span style="color:#d08770;">49</span><span>,</span><span style="color:#d08770;">50</span><span>,</span><span style="color:#d08770;">51</span><span>,</span><span style="color:#d08770;">52</span><span>,</span><span style="color:#d08770;">53</span><span>,</span><span style="color:#d08770;">54</span><span>,</span><span style="color:#d08770;">55</span><span>,</span><span style="color:#d08770;">56</span><span>,</span><span style="color:#d08770;">57</span><span>,</span><span style="color:#d08770;">58</span><span>,</span><span style="color:#d08770;">59</span><span>,</span><span style="color:#d08770;">60</span><span>,
</span><span>  </span><span style="color:#d08770;">61</span><span>,</span><span style="color:#d08770;">62</span><span>,</span><span style="color:#d08770;">63</span><span>,</span><span style="color:#d08770;">64</span><span>,</span><span style="color:#d08770;">65</span><span>,</span><span style="color:#d08770;">66</span><span>,</span><span style="color:#d08770;">67</span><span>,</span><span style="color:#d08770;">68</span><span>,</span><span style="color:#d08770;">69</span><span>,</span><span style="color:#d08770;">70</span><span>,</span><span style="color:#d08770;">71</span><span>,</span><span style="color:#d08770;">72</span><span>,</span><span style="color:#d08770;">73</span><span>,</span><span style="color:#d08770;">74</span><span>,</span><span style="color:#d08770;">75</span><span>,</span><span style="color:#d08770;">76</span><span>,</span><span style="color:#d08770;">77</span><span>,</span><span style="color:#d08770;">78</span><span>,</span><span style="color:#d08770;">79</span><span>,</span><span style="color:#d08770;">80</span><span>,
</span><span>  </span><span style="color:#d08770;">81</span><span>,</span><span style="color:#d08770;">82</span><span>,</span><span style="color:#d08770;">83</span><span>,</span><span style="color:#d08770;">84</span><span>,</span><span style="color:#d08770;">85</span><span>,</span><span style="color:#d08770;">86</span><span>,</span><span style="color:#d08770;">87</span><span>,</span><span style="color:#d08770;">88</span><span>,</span><span style="color:#d08770;">89</span><span>,</span><span style="color:#d08770;">90</span><span>,</span><span style="color:#d08770;">91</span><span>,</span><span style="color:#d08770;">92</span><span>,</span><span style="color:#d08770;">93</span><span>,</span><span style="color:#d08770;">94</span><span>,</span><span style="color:#d08770;">95</span><span>,</span><span style="color:#d08770;">96</span><span>,</span><span style="color:#d08770;">97</span><span>,</span><span style="color:#d08770;">98</span><span>,</span><span style="color:#d08770;">99</span><span>,</span><span style="color:#d08770;">100
</span><span>];
</span><span style="color:#b48ead;">let </span><span style="color:#bf616a;">ul </span><span>= document.</span><span style="color:#96b5b4;">querySelector</span><span>(&quot;</span><span style="color:#a3be8c;">#a_ul</span><span>&quot;); </span><span style="color:#65737e;">// an unordered list &lt;ul id=&quot;a_ul&quot;&gt;&lt;ul/&gt;
</span><span>
</span><span style="color:#bf616a;">ul</span><span>.</span><span style="color:#bf616a;">innerHTML </span><span>= </span><span style="color:#bf616a;">arr</span><span>.</span><span style="color:#8fa1b3;">reduce</span><span>((</span><span style="color:#bf616a;">acc</span><span>, </span><span style="color:#bf616a;">item</span><span>) </span><span style="color:#b48ead;">=&gt; </span><span>`</span><span style="color:#a3be8c;">${</span><span style="color:#bf616a;">acc</span><span style="color:#a3be8c;">}&lt;li&gt;${</span><span style="color:#bf616a;">item</span><span style="color:#a3be8c;">}&lt;/li&gt;</span><span>`, &quot;&quot;)
</span></code></pre>
</li>
</ol>
<p>If you are not well experienced with Javascript you would say that the first one is faster, because it's only 21 items. The thing here is: <code>innerHTML</code> is not a simple variable. Any changes to this triggers <a href="https://en.wikipedia.org/wiki/Input/output">I/O(Input/Output)</a> operations in your browser. I/O is a very expensive operation and not only expensive but unlike changing a variable value, doing I/O can fail due to many possible problems(like too much delay to process due to lack of cpu or memory resources at the time so browser cancel your IO operation) and given the decision of making it a variable instead of a function for example, it is not visible by the developer that it can fail and error may arise by lack of attention.</p>
<p>By executing the first code we are triggering 21 I/O operations while in the second piece of code, even though we have a bigger loop (101 items) we only do one I/O operation.</p>
<h1 id="whatdoes">And what does React has to do with it?</h1>
<p>React works with the idea of controlling the number of I/O operations you do by not allowing you to do it yourself. But how can React know when to perform I/O and when not? React performs  comparison of variables, so whenever a variable changes something React triggers re-render operations only on the parts of your code that are affected by that value that changed. To control it, Reacts wants you to not change variables directly:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">let </span><span style="color:#bf616a;">a </span><span>= </span><span style="color:#d08770;">10
</span><span style="color:#bf616a;">a </span><span>= </span><span style="color:#d08770;">5 </span><span style="color:#65737e;">// Do not do this
</span></code></pre>
<p>React has an 'interface' where it has a function/method named <code>setState</code> and by using this function, you control rendering or let React knows when a variable has changed and then triggers re-render operation(more on this later). By doing so, React always knows when and how many I/O to be performed, because it controls what it calls <a href="https://kiberstender.github.io/react-introduction/#components">Components</a> and any Component inside the Component that triggered <code>setState</code> will be updated too.</p>
<p>Instead of doing one I/O per Component it does what the function <code>reduce</code> does to the array, processing everything in one single batch and then returns a single object to React to do the I/O.</p>
<h1 id="adding-react-to-our-codebase">Adding React to our codebase</h1>
<p>Now, before I go any further in explanation, let's re-write our simple "Hello World". The first thing we have to do is to add React in our dependency list. React is a framework like Bootstrap, so we're adding it to normal dependency list not the dev-dependency list:</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#bf616a;">npm</span><span> install react@16.13.1 react-dom@16.13.1
</span></code></pre>
<p>PS: To guarantee that everything will work in the future as it is working right now, please install all the dependencies in the same version I put here in the snippet</p>
<p>React itself is inside <code>react</code> library, for now don't focus on <code>react-dom</code> as we will only use it in the application's start. Now go to your <code>/src/javascript/greetings/DateGreetings.js</code> file and change it to the given example:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">import </span><span style="color:#bf616a;">React </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">react</span><span>&quot;; </span><span style="color:#65737e;">// 1
</span><span style="color:#b48ead;">import </span><span style="color:#bf616a;">moment </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">moment</span><span>&quot;;
</span><span>
</span><span style="color:#b48ead;">import </span><span>&quot;</span><span style="color:#a3be8c;">greetings/dateTimeGreetings.scss</span><span>&quot;;
</span><span>
</span><span style="color:#b48ead;">export default </span><span>(</span><span style="color:#bf616a;">props</span><span style="color:#65737e;">/*3*/</span><span>) </span><span style="color:#b48ead;">=&gt; </span><span style="color:#bf616a;">React</span><span>.</span><span style="color:#96b5b4;">createElement</span><span>( </span><span style="color:#65737e;">// 2
</span><span>  &#39;</span><span style="color:#a3be8c;">div</span><span>&#39;, {id:&quot;</span><span style="color:#a3be8c;">date-time-greetings-component</span><span>&quot;}, `</span><span style="color:#a3be8c;">It is: ${</span><span style="color:#8fa1b3;">moment</span><span style="color:#a3be8c;">().</span><span style="color:#8fa1b3;">format</span><span style="color:#a3be8c;">(</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">dateFormat</span><span style="color:#a3be8c;">)}</span><span>` </span><span style="color:#65737e;">// 4
</span><span>);
</span></code></pre>
<p>Let's go to the explanation:</p>
<ol>
<li>The first thing to be done is import React to your code</li>
<li>Then make DateTimeGreetings class to become a function</li>
<li>I will explain props later but, essencially it is an object with external values that whoever is using your Component pass to instante it</li>
<li>Notice that now it is using <code>props.dateFormat</code> instead of <code>dateFormat</code> because now, dateFormat is passed via props not via constructor</li>
</ol>
<h1 id="react-createelement">React.createElement</h1>
<p>In what is called <a href="https://www.quora.com/What-is-Vanilla-JavaScript-Is-it-different-from-regular-JavaScript">vanilla Javascript</a> there is a function named <code>document.createElement</code> which only receive one parameter, a string containing the name of the TAG you want to create and returns and instance of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node">DOM Node</a>. With this Node instance you can "populate" it with attributes like id, css class(es), etc:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">const </span><span style="color:#bf616a;">div </span><span>= document.</span><span style="color:#96b5b4;">createElement</span><span>(&quot;</span><span style="color:#a3be8c;">div</span><span>&quot;);
</span><span style="color:#bf616a;">div</span><span>.</span><span style="color:#96b5b4;">setAttribute</span><span>(&quot;</span><span style="color:#a3be8c;">id</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">my-div</span><span>&quot;);
</span><span style="color:#bf616a;">div</span><span>.</span><span style="color:#bf616a;">classList</span><span>.</span><span style="color:#96b5b4;">add</span><span>(&quot;</span><span style="color:#a3be8c;">my-css-class</span><span>&quot;);
</span><span style="color:#bf616a;">div</span><span>.</span><span style="color:#bf616a;">classList</span><span>.</span><span style="color:#96b5b4;">add</span><span>(&quot;</span><span style="color:#a3be8c;">my-css-class-2</span><span>&quot;);
</span></code></pre>
<p>And then you can programatically control your page adding or removing Nodes or Node attributes when some button is clicked or some input data is given. But, as you may take notice, I had to write 4 lines to describe one single <code>div</code> that has actually 2 attributes(id and class). React thought about that and created their own <code>createElement</code> function were one can do this in a shorter way:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">const </span><span style="color:#bf616a;">div </span><span>= </span><span style="color:#bf616a;">React</span><span>.</span><span style="color:#96b5b4;">createElement</span><span>(&quot;</span><span style="color:#a3be8c;">div</span><span>&quot;, {id:&quot;</span><span style="color:#a3be8c;">my-div</span><span>&quot;, className:[&quot;</span><span style="color:#a3be8c;">my-css-class</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">my-css-class-2</span><span>&quot;]});
</span></code></pre>
<p>Not only it is shorter but easier to understando too. And this is the whole base of React, all the fuss you eard about is because of this piece of function. With this you can create programatically create your whole page deciding when something will be rendered and when not.</p>
<h1 id="babel_jsx">JSX</h1>
<p>Wait a minute... What is this strange syntax? This is probably not what you have seen so far when people talk about React. You probably have seen React like this:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">import </span><span style="color:#bf616a;">React </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">react</span><span>&quot;;
</span><span style="color:#b48ead;">import </span><span style="color:#bf616a;">moment </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">moment</span><span>&quot;;
</span><span>
</span><span style="color:#b48ead;">import </span><span>&quot;</span><span style="color:#a3be8c;">greetings/dateTimeGreetings.scss</span><span>&quot;;
</span><span>
</span><span style="color:#b48ead;">export default </span><span>(</span><span style="color:#bf616a;">props</span><span>) </span><span style="color:#b48ead;">=&gt; </span><span>(
</span><span>  &lt;</span><span style="color:#bf616a;">div id</span><span>=&quot;</span><span style="color:#a3be8c;">date-time-greetings-component</span><span>&quot;&gt;
</span><span>    </span><span style="color:#bf616a;">It is</span><span>: {</span><span style="color:#8fa1b3;">moment</span><span>().</span><span style="color:#8fa1b3;">format</span><span>(this.props.dateFormat)}
</span><span>  &lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span>)
</span></code></pre>
<p>So how to achieve this? This HTML syntax in the middle of the Javascript is called <a href="https://reactjs.org/docs/jsx-in-depth.html">JSX</a>. It is a transpiled language in the middle of the transpiled Javascript that is transformed in this 'weird' syntax seen above. To have this syntax in your code making it easier to write and read, you have to simply add another preset in our Babel configuration (in <code>babel.config.js</code> file). First install babel react preset:</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#bf616a;">npm</span><span> install</span><span style="color:#bf616a;"> --save-dev</span><span> @babel/preset-react@7.9.4
</span></code></pre>
<p>Now go to <code>/babel.config.js</code> and add the newly installed preset to our config:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>module.exports = {
</span><span>  presets: [
</span><span>    [
</span><span>      &quot;</span><span style="color:#a3be8c;">@babel/preset-env</span><span>&quot;,
</span><span>      {
</span><span>        targets: {
</span><span>          node: &quot;</span><span style="color:#a3be8c;">current</span><span>&quot;,
</span><span>        },
</span><span>      },
</span><span>    ],
</span><span>    &quot;</span><span style="color:#a3be8c;">@babel/preset-react</span><span>&quot;,
</span><span>  ],
</span><span>};
</span></code></pre>
<p>PS: Whenever you see three dots <code>...</code>, it means: "keep whatever comes before this". Or if it comes after what we are adding/modifying, it means: "keep whatever comes after these dots"</p>
<p>Now "reactify" <code>/src/javascript/greetings/Greetings</code>:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">import </span><span style="color:#bf616a;">React </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">react</span><span>&quot;; </span><span style="color:#65737e;">// 1 
</span><span style="color:#b48ead;">import </span><span style="color:#bf616a;">DateTimeGreetings </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">greetings/DateTimeGreetings.js</span><span>&quot;; </span><span style="color:#65737e;">// 2
</span><span style="color:#b48ead;">import </span><span style="color:#bf616a;">Person </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">person/Person</span><span>&quot;;
</span><span>
</span><span style="color:#b48ead;">import </span><span>&quot;</span><span style="color:#a3be8c;">greetings/greetings.scss</span><span>&quot;;
</span><span>
</span><span style="color:#b48ead;">export default class </span><span style="color:#ebcb8b;">Greetings </span><span style="color:#b48ead;">extends </span><span style="color:#eff1f5;">React.</span><span style="color:#a3be8c;">Component </span><span style="color:#eff1f5;">{ </span><span style="color:#65737e;">// 3  
</span><span style="color:#eff1f5;">  </span><span style="color:#8fa1b3;">render</span><span>()</span><span style="color:#eff1f5;">{ </span><span style="color:#65737e;">// 4
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">const </span><span style="color:#eff1f5;">{</span><span style="color:#bf616a;">name</span><span style="color:#eff1f5;">, </span><span style="color:#bf616a;">surname</span><span style="color:#eff1f5;">} </span><span>= </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">props</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">person </span><span>? </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">props</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">person </span><span>: new </span><span style="color:#eff1f5;">Person(</span><span>&quot;</span><span style="color:#a3be8c;">Unnamed</span><span>&quot;</span><span style="color:#eff1f5;">, </span><span>&quot;</span><span style="color:#a3be8c;">Person</span><span>&quot;</span><span style="color:#eff1f5;">); </span><span style="color:#65737e;">// 5
</span><span style="color:#eff1f5;">    
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">React</span><span style="color:#eff1f5;">.</span><span style="color:#96b5b4;">createElement</span><span style="color:#eff1f5;">(
</span><span style="color:#eff1f5;">      </span><span>&quot;</span><span style="color:#a3be8c;">div</span><span>&quot;</span><span style="color:#eff1f5;">, 
</span><span style="color:#eff1f5;">      {id: </span><span>&quot;</span><span style="color:#a3be8c;">greetings-component</span><span>&quot;</span><span style="color:#eff1f5;">},
</span><span style="color:#eff1f5;">      </span><span>`</span><span style="color:#a3be8c;">Hello Mr/Ms ${</span><span style="color:#bf616a;">name</span><span style="color:#a3be8c;">} ${</span><span style="color:#bf616a;">surname</span><span style="color:#a3be8c;">}</span><span>`</span><span style="color:#eff1f5;">,
</span><span style="color:#eff1f5;">      </span><span style="color:#bf616a;">React</span><span style="color:#eff1f5;">.</span><span style="color:#96b5b4;">createElement</span><span style="color:#eff1f5;">(</span><span style="color:#bf616a;">DateTimeGreetings</span><span style="color:#eff1f5;">, {dateFormat: </span><span>&quot;</span><span style="color:#a3be8c;">MMMM Do YYYY, h:mm:ss a</span><span>&quot;</span><span style="color:#eff1f5;">}) </span><span style="color:#65737e;">// 6
</span><span style="color:#eff1f5;">    );
</span><span style="color:#eff1f5;">  }
</span><span style="color:#eff1f5;">}
</span></code></pre>
<p>Allow me to explain:</p>
<ol>
<li>Again import react</li>
<li>Import our class newly transformed to Component DateTimeGreetings</li>
<li>Make Greetings a Component too</li>
<li>Change <code>greet</code> name to <code>render</code></li>
<li>Greetings now receive person parameter via props(Calm down I will explain what props are) instead of via direct <code>this</code> as it was done previously</li>
<li>Instantiate DateTimeGreetings as if it was one of the React's pre-defined HTML tags and pass <code>dateFormat</code> via props to the instance of the class</li>
</ol>
<p>Update <code>/src/javascript/App.js</code>:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">import </span><span style="color:#bf616a;">React </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">react</span><span>&quot;;
</span><span style="color:#b48ead;">import </span><span style="color:#bf616a;">Person </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">person/Person</span><span>&quot;;
</span><span style="color:#b48ead;">import </span><span style="color:#bf616a;">Greetings </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">greetings/Greetings</span><span>&quot;;
</span><span>
</span><span style="color:#b48ead;">import </span><span>&quot;</span><span style="color:#a3be8c;">app.scss</span><span>&quot;;
</span><span>
</span><span style="color:#b48ead;">export default class </span><span style="color:#ebcb8b;">App </span><span style="color:#b48ead;">extends </span><span style="color:#eff1f5;">React.</span><span style="color:#a3be8c;">Component</span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">  </span><span style="color:#8fa1b3;">render</span><span>()</span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">const </span><span style="color:#bf616a;">person </span><span>= new </span><span style="color:#eff1f5;">Person(</span><span>&quot;</span><span style="color:#a3be8c;">John</span><span>&quot;</span><span style="color:#eff1f5;">, </span><span>&quot;</span><span style="color:#a3be8c;">Titor</span><span>&quot;</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">React</span><span style="color:#eff1f5;">.</span><span style="color:#96b5b4;">createElement</span><span style="color:#eff1f5;">(
</span><span style="color:#eff1f5;">      </span><span>&quot;</span><span style="color:#a3be8c;">div</span><span>&quot;</span><span style="color:#eff1f5;">, 
</span><span style="color:#eff1f5;">      {id: </span><span>&quot;</span><span style="color:#a3be8c;">greetings-example</span><span>&quot;</span><span style="color:#eff1f5;">}, 
</span><span style="color:#eff1f5;">      </span><span style="color:#bf616a;">React</span><span style="color:#eff1f5;">.</span><span style="color:#96b5b4;">createElement</span><span style="color:#eff1f5;">(</span><span>&quot;</span><span style="color:#a3be8c;">h1</span><span>&quot;</span><span style="color:#eff1f5;">, </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">, </span><span>&quot;</span><span style="color:#a3be8c;">Greetings Example</span><span>&quot;</span><span style="color:#eff1f5;">), 
</span><span style="color:#eff1f5;">      </span><span style="color:#bf616a;">React</span><span style="color:#eff1f5;">.</span><span style="color:#96b5b4;">createElement</span><span style="color:#eff1f5;">(</span><span style="color:#bf616a;">Greetings</span><span style="color:#eff1f5;">, {person: </span><span style="color:#bf616a;">person</span><span style="color:#eff1f5;">})
</span><span style="color:#eff1f5;">    );
</span><span style="color:#eff1f5;">  }
</span><span style="color:#eff1f5;">}
</span></code></pre>
<p>I don't think there is much to be explained here that was not explained in the previous examples. At last, go to <code>/src/index.js</code> file and change it to this:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">import </span><span style="color:#bf616a;">React </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">react</span><span>&quot;; </span><span style="color:#65737e;">//1
</span><span style="color:#b48ead;">import </span><span style="color:#bf616a;">ReactDOM </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">react-dom</span><span>&quot;; </span><span style="color:#65737e;">//2
</span><span style="color:#b48ead;">import </span><span style="color:#bf616a;">App </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">App</span><span>&quot;;
</span><span>
</span><span style="color:#bf616a;">ReactDOM</span><span>.</span><span style="color:#8fa1b3;">render</span><span>( </span><span style="color:#65737e;">// 3
</span><span>  </span><span style="color:#bf616a;">React</span><span>.</span><span style="color:#96b5b4;">createElement</span><span>(</span><span style="color:#bf616a;">App</span><span>, </span><span style="color:#d08770;">null</span><span>), </span><span style="color:#65737e;">// 4
</span><span>  document.</span><span style="color:#96b5b4;">querySelector</span><span>(&quot;</span><span style="color:#a3be8c;">#root</span><span>&quot;) </span><span style="color:#65737e;">// 5
</span><span>);
</span></code></pre>
<p>Explaning:</p>
<ol>
<li>Like previously, import React to our code</li>
<li>Now import ReactDOM. This is the 'engine' of React. This is what makes React works the way it works. If you know Java, think about the class Thread. Just by creating an instance of this class won't make it work. You need to call <code>start</code> method and you will need to specify an <code>Executor</code> (usually <code>GlobalExecutor</code>) and then your Thread "will be executed"(If there are resources for it). If you are not Java dev or not familiarized with Thread class, React Dom is what starts your React app and control the lifecycle</li>
<li>Here is where the command to React-DOM start the application to run is given</li>
<li>Creating an element of type App, like it was done with Greetings and DateTimeGreetings previously in other components</li>
<li>Here we say where we want our react app to be rendered. If for some reason you want to have a second app you can simply call <code>ReactDOM.render</code> again passing a different <code>document.querySelector("another_element")</code></li>
</ol>
<p>And voi là. To guarantee to you that it is working and it is not a cache, I changed "Node Dev" to "John Titor". So check it, if you see the different name, you can be sure you did everything correctly. Run now using <code>npm run-script live</code> and go to <a href="http://localhost:8080">http://localhost:8080</a></p>
<img src="react_john_titor.png">
<p>Check out the generated pure HTML code:</p>
<img src="generated_code_react.png">
<p>And now you have React JS in your project. As you can see, React is not a framerwork to beautify your app, like for example, when you are learning JQuery. Even though you can use JQuery without adding CSS dynamically, it is counter intuitive. React is made for you to focus in the structure of you HTML and how to dinamically change values diminishing the maximum possible I/O operations. If you compare it to jQuery that does I/O almost all the time, React is mostly to improve performance while keeping your code (more) readable.</p>
<h1 id="babel_jsx">JSX</h1>
<p>Wait a minute... What is this strange syntax? This is probably not what you have seen so far when people talk about React. You probably have seen React like this:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">import </span><span style="color:#bf616a;">React </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">react</span><span>&quot;;
</span><span style="color:#b48ead;">import </span><span style="color:#bf616a;">moment </span><span style="color:#b48ead;">from </span><span>&quot;</span><span style="color:#a3be8c;">moment</span><span>&quot;;
</span><span>
</span><span style="color:#b48ead;">import </span><span>&quot;</span><span style="color:#a3be8c;">greetings/dateTimeGreetings.scss</span><span>&quot;;
</span><span>
</span><span style="color:#b48ead;">export default class </span><span style="color:#ebcb8b;">DateTimeGreetings </span><span style="color:#b48ead;">extends </span><span style="color:#eff1f5;">React.</span><span style="color:#a3be8c;">Component </span><span style="color:#eff1f5;">{  
</span><span style="color:#eff1f5;">  </span><span style="color:#8fa1b3;">render</span><span>()</span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">return </span><span style="color:#eff1f5;">(
</span><span style="color:#eff1f5;">      </span><span>&lt;</span><span style="color:#bf616a;">div id</span><span>=&quot;</span><span style="color:#a3be8c;">date-time-greetings-component</span><span>&quot;&gt;
</span><span style="color:#eff1f5;">        </span><span style="color:#bf616a;">It is</span><span>: </span><span style="color:#eff1f5;">{</span><span style="color:#8fa1b3;">moment</span><span>()</span><span style="color:#eff1f5;">.</span><span style="color:#8fa1b3;">format</span><span>(</span><span style="color:#eff1f5;">this.props.dateFormat</span><span>)</span><span style="color:#eff1f5;">}
</span><span style="color:#eff1f5;">      </span><span>&lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span style="color:#eff1f5;">    )
</span><span style="color:#eff1f5;">  }
</span><span style="color:#eff1f5;">}
</span></code></pre>
<p>So how to achieve this? This HTML syntax in the middle of the Javascript is called <a href="https://reactjs.org/docs/jsx-in-depth.html">JSX</a>. It is a transpiled language in the middle of the transpiled Javascript that is transformed in this 'weird' syntax seen above. To have this syntax in your code making it easier to write and read, you have to simply add another preset in our Babel configuration (in <code>babel.config.js</code> file). First install babel react preset:</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#bf616a;">npm</span><span> install</span><span style="color:#bf616a;"> --save-dev</span><span> @babel/preset-react@7.9.4
</span></code></pre>
<p>Now go to <code>/babel.config.js</code> and add the newly installed preset to our config:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>module.exports = {
</span><span>  presets: [
</span><span>    [
</span><span>      &quot;</span><span style="color:#a3be8c;">@babel/preset-env</span><span>&quot;,
</span><span>      {
</span><span>        targets: {
</span><span>          node: &quot;</span><span style="color:#a3be8c;">current</span><span>&quot;,
</span><span>        },
</span><span>      },
</span><span>    ],
</span><span>    &quot;</span><span style="color:#a3be8c;">@babel/preset-react</span><span>&quot;,
</span><span>  ],
</span><span>};
</span></code></pre>
<p>PS: Whenever you see three dots <code>...</code>, it means: "keep whatever comes before this". Or if it comes after what we are adding/modifying, it means: "keep whatever comes after these dots"</p>
<p>Now You can start writing JSX HTML inside your Javascript files and Babel will transpile it correctly.</p>
<ol>
<li><code>/src/javascript/greetings/DateTimeGreetings.js</code><pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span style="color:#8fa1b3;">render</span><span>(){
</span><span>  </span><span style="color:#b48ead;">return </span><span>&lt;div id=&quot;</span><span style="color:#a3be8c;">date-time-greetings-component</span><span>&quot;&gt;</span><span style="color:#bf616a;">It </span><span>is: {</span><span style="color:#8fa1b3;">moment</span><span>().</span><span style="color:#8fa1b3;">format</span><span>(</span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#bf616a;">props</span><span>.</span><span style="color:#bf616a;">dateFormat</span><span>)}&lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span>}
</span><span>...
</span></code></pre>
</li>
<li><code>/src/javascript/greetings/Greetings.js</code><pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span style="color:#8fa1b3;">render</span><span>(){
</span><span>  </span><span style="color:#b48ead;">const </span><span>{</span><span style="color:#bf616a;">name</span><span>, </span><span style="color:#bf616a;">surname</span><span>} = </span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#bf616a;">props</span><span>.</span><span style="color:#bf616a;">person </span><span>? </span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#bf616a;">props</span><span>.</span><span style="color:#bf616a;">person </span><span>: new Person(&quot;</span><span style="color:#a3be8c;">Unnamed</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Person</span><span>&quot;);
</span><span>
</span><span>  </span><span style="color:#b48ead;">return </span><span>(
</span><span>    &lt;</span><span style="color:#bf616a;">div id</span><span>=&quot;</span><span style="color:#a3be8c;">greetings-component</span><span>&quot;&gt;
</span><span>      </span><span style="color:#bf616a;">Hello Mr</span><span>/</span><span style="color:#bf616a;">Ms </span><span>{</span><span style="color:#bf616a;">name</span><span>} {</span><span style="color:#bf616a;">surname</span><span>}
</span><span>      &lt;</span><span style="color:#bf616a;">DateTimeGreetings dateFormat</span><span>=&quot;</span><span style="color:#a3be8c;">MMMM Do YYYY, h:mm:ss a</span><span>&quot; /&gt;
</span><span>    &lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span>  );
</span><span>}
</span><span>...
</span></code></pre>
</li>
<li><code>/src/javascript/App.js</code>:<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span style="color:#8fa1b3;">render</span><span>(){
</span><span>  </span><span style="color:#b48ead;">const </span><span style="color:#bf616a;">person </span><span>= new Person(&quot;</span><span style="color:#a3be8c;">John</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Titor</span><span>&quot;);
</span><span>  </span><span style="color:#b48ead;">return </span><span>(
</span><span>    &lt;</span><span style="color:#bf616a;">div id</span><span>=&quot;</span><span style="color:#a3be8c;">greetings-example</span><span>&quot;&gt;
</span><span>      &lt;h1&gt;</span><span style="color:#bf616a;">Greetings Example</span><span>&lt;/</span><span style="color:#bf616a;">h1</span><span>&gt;
</span><span>      &lt;</span><span style="color:#bf616a;">Greetings person</span><span>={</span><span style="color:#bf616a;">person</span><span>} /&gt;
</span><span>    &lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span>  );
</span><span>}
</span><span>...
</span></code></pre>
</li>
<li><code>/src/index.js</code><pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span style="color:#bf616a;">ReactDOM</span><span>.</span><span style="color:#8fa1b3;">render</span><span>(&lt;App /&gt;, document.</span><span style="color:#96b5b4;">querySelector</span><span>(&quot;</span><span style="color:#a3be8c;">#root</span><span>&quot;));
</span></code></pre>
</li>
</ol>
<h1 id="react-createelement-and-jsx">React.createElement and JSX</h1>
<p>Understanding how JSX is transformed to <code>React.createElement</code> can helps us understanding some informations we will see with more details in the next topics. First let's see <code>createElement</code> prototype:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#bf616a;">React</span><span>.</span><span style="color:#96b5b4;">createElement</span><span>(
</span><span>  </span><span style="color:#bf616a;">type</span><span>,
</span><span>  [</span><span style="color:#bf616a;">props</span><span>],
</span><span>  [...</span><span style="color:#bf616a;">children</span><span>]
</span><span>)
</span></code></pre>
<ol>
<li><code>type</code>: A string or object containing the component we are instantiating. For any native HTML Tag, you pass it as a String like 'div', 'span', 'article', etc. For your own defined Components such as our Greetings, you pass it not as a String but as a 'anonymous class definition' or a type if you prefer</li>
<li><code>props</code>: It's an object literal <code>{}</code> containing the values you want to pass to your instantiated Component. In the prototype it is surrounded by [] not to say it is an array, but to say that this is optional</li>
<li><code>children</code>: It is a varargs array that you can pass anything you want, as long as it is serializable to a String. Usually customized Components do not have children. It's not a rule, it is just that usually you don't nest things inside your own Component from outside the file defining it. In the prototype it is surrounded by [] not to say it is just an array, but to say that this is optional too</li>
</ol>
<p>Non JSX version:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#bf616a;">React</span><span>.</span><span style="color:#96b5b4;">createElement</span><span>(
</span><span>  &#39;</span><span style="color:#a3be8c;">div</span><span>&#39;,
</span><span>  {prop1:&quot;</span><span style="color:#a3be8c;">string</span><span>&quot;, prop2:</span><span style="color:#bf616a;">a_variable</span><span>},
</span><span>  &quot;</span><span style="color:#a3be8c;">child1</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">child2</span><span>&quot;, </span><span style="color:#bf616a;">React</span><span>.</span><span style="color:#96b5b4;">createElement</span><span>(&#39;</span><span style="color:#a3be8c;">span</span><span>&#39;, {id:&quot;</span><span style="color:#a3be8c;">abc</span><span>&quot;}, &#39;</span><span style="color:#a3be8c;">text</span><span>&#39;)
</span><span>)
</span><span>
</span><span style="color:#bf616a;">React</span><span>.</span><span style="color:#96b5b4;">createElement</span><span>(
</span><span>  </span><span style="color:#bf616a;">Greetings</span><span>,
</span><span>  {person: new Person(&quot;</span><span style="color:#a3be8c;">Javascript</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Dev</span><span>&quot;)},
</span><span>  &quot;</span><span style="color:#a3be8c;">child1</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">child2</span><span>&quot;, </span><span style="color:#bf616a;">React</span><span>.</span><span style="color:#96b5b4;">createElement</span><span>(</span><span style="color:#bf616a;">AComponent</span><span>, {id:&quot;</span><span style="color:#a3be8c;">abc</span><span>&quot;})
</span><span>)
</span></code></pre>
<p>Now JSX representation:</p>
<pre data-lang="html" style="background-color:#2b303b;color:#c0c5ce;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#bf616a;">div </span><span style="color:#d08770;">prop1</span><span>=&quot;</span><span style="color:#a3be8c;">string</span><span>&quot; </span><span style="color:#d08770;">prop2</span><span>=</span><span style="color:#a3be8c;">{a_variable}</span><span>&gt;
</span><span>  child1
</span><span>  child2
</span><span>  &lt;</span><span style="color:#bf616a;">span </span><span style="color:#8fa1b3;">id</span><span>=&quot;</span><span style="color:#a3be8c;">abc</span><span>&quot;&gt;text&lt;/</span><span style="color:#bf616a;">span</span><span>&gt;
</span><span>&lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span>
</span><span>&lt;</span><span style="color:#bf616a;">Greetings </span><span style="color:#d08770;">person</span><span>=</span><span style="color:#a3be8c;">{new </span><span style="color:#d08770;">Person(</span><span style="background-color:#bf616a;color:#2b303b;">&quot;</span><span style="color:#d08770;">Javascript</span><span style="background-color:#bf616a;color:#2b303b;">&quot;</span><span style="color:#d08770;">, </span><span style="background-color:#bf616a;color:#2b303b;">&quot;</span><span style="color:#d08770;">Dev</span><span style="background-color:#bf616a;color:#2b303b;">&quot;</span><span style="color:#d08770;">)}</span><span>&gt;
</span><span>  child1
</span><span>  child2
</span><span>  &lt;</span><span style="color:#bf616a;">AComponent </span><span style="color:#8fa1b3;">id</span><span>=&quot;</span><span style="color:#a3be8c;">abc</span><span>&quot;/&gt;
</span><span>&lt;/</span><span style="color:#bf616a;">Greetings</span><span>&gt;
</span></code></pre>
<h1 id="components">React Components</h1>
<p>I mentioned a lot previously(<a href="https://kiberstender.github.io/react-introduction/#whatdoes">here</a> and <a href="https://kiberstender.github.io/react-introduction/#how">here</a>) that React has something named <a href="https://reactjs.org/docs/react-component.html">Component</a>. But what is a Component? A Component can be two things:</p>
<ol>
<li>A function that returns a JSX/React.createElement:<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#65737e;">//1
</span><span style="color:#b48ead;">function </span><span style="color:#8fa1b3;">Greeter</span><span>(</span><span style="color:#bf616a;">props</span><span>){
</span><span>  </span><span style="color:#b48ead;">return </span><span>&lt;div id=&quot;</span><span style="color:#a3be8c;">greeter-component</span><span>&quot;&gt;{props.</span><span style="color:#bf616a;">greet</span><span>} {</span><span style="color:#bf616a;">props</span><span>.</span><span style="color:#bf616a;">treatment</span><span>} {</span><span style="color:#bf616a;">props</span><span>.name}&lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span>}
</span><span style="color:#65737e;">//or
</span><span style="color:#65737e;">//2
</span><span style="color:#b48ead;">function </span><span style="color:#8fa1b3;">Greeter</span><span>(</span><span style="color:#bf616a;">props</span><span>){
</span><span>  </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">React</span><span>.</span><span style="color:#96b5b4;">createElement</span><span>(&#39;</span><span style="color:#a3be8c;">div</span><span>&#39;, {id:&quot;</span><span style="color:#a3be8c;">greeter-component</span><span>&quot;}, `</span><span style="color:#a3be8c;">${</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">greet</span><span style="color:#a3be8c;">} ${</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">treatment</span><span style="color:#a3be8c;">} ${</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.name}</span><span>`);
</span><span>}
</span></code></pre>
or<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#65737e;">//3
</span><span style="color:#b48ead;">const </span><span style="color:#8fa1b3;">Greeter </span><span>= (</span><span style="color:#bf616a;">props</span><span>) </span><span style="color:#b48ead;">=&gt; </span><span>&lt;div id=&quot;</span><span style="color:#a3be8c;">greeter-component</span><span>&quot;&gt;{props.</span><span style="color:#bf616a;">greet</span><span>} {props.</span><span style="color:#bf616a;">treatment</span><span>} {props.</span><span style="color:#bf616a;">name</span><span>}&lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span style="color:#65737e;">//or
</span><span style="color:#65737e;">//4
</span><span style="color:#b48ead;">const </span><span style="color:#8fa1b3;">Greeter </span><span>= (</span><span style="color:#bf616a;">props</span><span>) </span><span style="color:#b48ead;">=&gt; </span><span style="color:#bf616a;">React</span><span>.</span><span style="color:#96b5b4;">createElement</span><span>(&#39;</span><span style="color:#a3be8c;">div</span><span>&#39;, {id:&quot;</span><span style="color:#a3be8c;">greeter-component</span><span>&quot;}, `</span><span style="color:#a3be8c;">${</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">greet</span><span style="color:#a3be8c;">} ${</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">treatment</span><span style="color:#a3be8c;">} ${</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.name}</span><span>`);
</span></code></pre>
</li>
<li>A class that extends <code>React.Component</code> or <code>React.PureComponent</code> and has a method <code>render</code> that returns the JSX/React.createElement<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">class </span><span style="color:#ebcb8b;">Greeter </span><span style="color:#b48ead;">extends </span><span style="color:#eff1f5;">React.</span><span style="color:#a3be8c;">Component </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">  </span><span style="color:#b48ead;">constructor</span><span>(</span><span style="color:#bf616a;">props</span><span>)</span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#bf616a;">super</span><span style="color:#eff1f5;">(</span><span style="color:#bf616a;">props</span><span style="color:#eff1f5;">)
</span><span style="color:#eff1f5;">  }
</span><span style="color:#eff1f5;">  </span><span style="color:#8fa1b3;">render</span><span>() </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">return </span><span style="color:#eff1f5;">&lt;div&gt;{this.props.</span><span style="color:#bf616a;">greet</span><span style="color:#eff1f5;">} {</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">props</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">treatment</span><span style="color:#eff1f5;">} {</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">props</span><span style="color:#eff1f5;">.name}</span><span>&lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span style="color:#eff1f5;">  }
</span><span style="color:#eff1f5;">}
</span><span style="color:#65737e;">//or
</span><span style="color:#b48ead;">class </span><span style="color:#ebcb8b;">Greeter </span><span style="color:#b48ead;">extends </span><span style="color:#eff1f5;">React.</span><span style="color:#a3be8c;">Component </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">  </span><span style="color:#b48ead;">constructor</span><span>(</span><span style="color:#bf616a;">props</span><span>)</span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#bf616a;">super</span><span style="color:#eff1f5;">(</span><span style="color:#bf616a;">props</span><span style="color:#eff1f5;">)
</span><span style="color:#eff1f5;">  }
</span><span style="color:#eff1f5;">  </span><span style="color:#8fa1b3;">render</span><span>() </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">React</span><span style="color:#eff1f5;">.</span><span style="color:#96b5b4;">createElement</span><span style="color:#eff1f5;">(</span><span>&#39;</span><span style="color:#a3be8c;">div</span><span>&#39;</span><span style="color:#eff1f5;">, {id:</span><span>&quot;</span><span style="color:#a3be8c;">greeter-component</span><span>&quot;</span><span style="color:#eff1f5;">}, </span><span>`</span><span style="color:#a3be8c;">${</span><span style="color:#bf616a;">this</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">greet</span><span style="color:#a3be8c;">} ${</span><span style="color:#bf616a;">this</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">treatment</span><span style="color:#a3be8c;">} ${</span><span style="color:#bf616a;">this</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.name}</span><span>`</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">  }
</span><span style="color:#eff1f5;">}
</span></code></pre>
PS: If you are not doing anything than calling <code>super</code> in your constructor, it is optional to have it:<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">class </span><span style="color:#ebcb8b;">Greeter </span><span style="color:#b48ead;">extends </span><span style="color:#eff1f5;">React.</span><span style="color:#a3be8c;">Component </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">  </span><span style="color:#8fa1b3;">render</span><span>() </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">return </span><span style="color:#eff1f5;">&lt;div&gt;{this.props.</span><span style="color:#bf616a;">greet</span><span style="color:#eff1f5;">} {</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">props</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">treatment</span><span style="color:#eff1f5;">} {</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">props</span><span style="color:#eff1f5;">.name}</span><span>&lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span style="color:#eff1f5;">  }
</span><span style="color:#eff1f5;">}
</span><span style="color:#65737e;">//or
</span><span style="color:#b48ead;">class </span><span style="color:#ebcb8b;">Greeter </span><span style="color:#b48ead;">extends </span><span style="color:#eff1f5;">React.</span><span style="color:#a3be8c;">Component </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">  </span><span style="color:#8fa1b3;">render</span><span>() </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">React</span><span style="color:#eff1f5;">.</span><span style="color:#96b5b4;">createElement</span><span style="color:#eff1f5;">(</span><span>&#39;</span><span style="color:#a3be8c;">div</span><span>&#39;</span><span style="color:#eff1f5;">, {id:</span><span>&quot;</span><span style="color:#a3be8c;">greeter-component</span><span>&quot;</span><span style="color:#eff1f5;">}, </span><span>`</span><span style="color:#a3be8c;">${</span><span style="color:#bf616a;">this</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">greet</span><span style="color:#a3be8c;">} ${</span><span style="color:#bf616a;">this</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">treatment</span><span style="color:#a3be8c;">} ${</span><span style="color:#bf616a;">this</span><span style="color:#a3be8c;">.</span><span style="color:#bf616a;">props</span><span style="color:#a3be8c;">.name}</span><span>`</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">  }
</span><span style="color:#eff1f5;">}
</span></code></pre>
</li>
</ol>
<p>PS: Because of the interpreted nature of Javascript, you cannot jump lines after <code>return</code> otherwise the interpreter will return <code>undefined</code>. So if your JSX expression it too big you wrap parenthesis around it and you can jump as many lines as you want/need.</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span style="color:#b48ead;">export default class </span><span style="color:#ebcb8b;">SimpleMenu </span><span style="color:#b48ead;">extends </span><span style="color:#eff1f5;">React.</span><span style="color:#a3be8c;">Component </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">  </span><span style="color:#8fa1b3;">render</span><span>()</span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">return </span><span style="color:#eff1f5;">(
</span><span style="color:#eff1f5;">      </span><span>&lt;</span><span style="color:#bf616a;">div id</span><span>=&quot;</span><span style="color:#a3be8c;">orkut-menu</span><span>&quot;&gt;
</span><span style="color:#eff1f5;">        &lt;ul&gt;
</span><span style="color:#eff1f5;">          &lt;li&gt;</span><span style="color:#bf616a;">Home</span><span>&lt;/</span><span style="color:#bf616a;">li</span><span>&gt;
</span><span style="color:#eff1f5;">          &lt;li&gt;</span><span style="color:#bf616a;">Friends</span><span>&lt;/</span><span style="color:#bf616a;">li</span><span>&gt;
</span><span style="color:#eff1f5;">          &lt;li&gt;</span><span style="color:#bf616a;">Scraps</span><span>&lt;/</span><span style="color:#bf616a;">li</span><span>&gt;
</span><span style="color:#eff1f5;">        </span><span>&lt;/</span><span style="color:#bf616a;">ul</span><span>&gt;
</span><span style="color:#eff1f5;">      </span><span>&lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span style="color:#eff1f5;">    )
</span><span style="color:#eff1f5;">  }
</span><span style="color:#eff1f5;">}
</span></code></pre>
<p>All of this to tell you that a Component is just you creating your own HTML Tag. By doing this, every Component you create is a part of your application, making it easier to compose these parts in the end, like it is just a big HTML file. If you run, you will notice that again nothing changed in the final result, but check the generated HTML:</p>
<img src="generated_code_code2.png"/>
<h3 id="component-as-a-function-vs-as-a-class">Component as a Function vs as a Class</h3>
<p>The advantage of having a Component as a function is that, it is less verbose and faster to be coded, see examples <a href="https://kiberstender.github.io/react-introduction/#components">1, 2, 3 and 4(specially 3 and 4)</a>. Usually you will use this way when you have a simple Component, such as our Greeter, that only displays something and has no interaction with the user like when you are creating a Header, Footer or any static part of your app that will not change by the Component own inner actions.</p>
<p>On the other hand having a Component as a class, will grant you way more control over your Component, because by then you will have support from React lifecycle<!--([read more here](@/react_post_04_react_end/index.md#lifecycle))--> and state changing using <a href="https://kiberstender.github.io/react-introduction/#whatisstate">this.setState</a>. You lose in amount of written code, but you gain in level of tunning or optimization of your Component.</p>
<p>But in any case, to change from a class to a function or vice-versa is not that hard, so if you're not sure what is the better approach to use, go for class approach, if you see that your Component is only changed by outside(via <code>props</code>), or you don't need to tune/lifecycle, you can easily change it to function approach later.</p>
<h1 id="props">What are these "props"?</h1>
<p><a href="https://reactjs.org/docs/components-and-props.html">Props</a> is short for "Properties". Think of your Component as a function, the <code>props</code> are your parameters, but instead of passing your parameters by position like you normally do in a function, here you are giving names to your parameters so you can pass them in any position.</p>
<p>Once you pass a <code>props</code> in your JSX or React.createElement you will have access to it inside your class/function that declares your Component using <code>props.[the very same name]</code> you declared outside your class/function when instantiating it. You can pass literally anything via <code>props</code>: functions, strings, int, double, complex objects, anything that Javascript allows you to put inside an object, because if you remember how we pass <code>props</code> in <code>createElement</code> function, it is just an object literal. See the example:</p>
<p>Declaring</p>
<img src="props_declaring.png"/>
<p>Instantiating</p>
<img src="props_instance.png"/>
<p>Notice that <code>props.greet</code> in the first picture is being populated in the second picture via <code>greet="Hello"</code>. If you forget to populate it like that, your <code>props.greet</code> will be <code>undefined</code> in your class/function. So always remember to either protect your <code>props</code> with some if else or to always populate your props correctly when instantianting your Component. See a simple example on how to protect your Component against <code>undefined</code> variables:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span style="color:#b48ead;">const </span><span style="color:#8fa1b3;">Greeter </span><span>= (</span><span style="color:#bf616a;">props</span><span>) </span><span style="color:#b48ead;">=&gt; </span><span>&lt;div id=&quot;</span><span style="color:#a3be8c;">greeter-component</span><span>&quot;&gt;{props.greet ? props.greet : &quot;</span><span style="color:#a3be8c;">Hello</span><span>&quot;} {props.</span><span style="color:#bf616a;">treatment</span><span>} {props.</span><span style="color:#bf616a;">name</span><span>}&lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span>...
</span></code></pre>
<p>This way whoever is using your Greeter Component and forget to populate <code>greet</code>, the Component will assume it's value as "Hello".</p>
<h2 id="how">How does it work internally?</h2>
<p>Now that you understand that the core of the React is the <code>React.createElement</code> and everything revolves around it(even JSX that it is just a syntax sugar for this function), I created a simple code that actually does what React does. Of course it is very limited as it does not have State support, Lifecycles support, good perfomance, Virtual DOM, etc, etc. It is just a simple didactic example to better explain each part of what have been shown so far:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">function </span><span style="color:#8fa1b3;">createElement</span><span>(</span><span style="color:#bf616a;">type</span><span>, </span><span style="color:#bf616a;">props</span><span>, ...</span><span style="color:#bf616a;">children</span><span>){
</span><span>  </span><span style="color:#b48ead;">return </span><span style="color:#8fa1b3;">addChildren</span><span>(</span><span style="color:#8fa1b3;">createNode</span><span>(</span><span style="color:#bf616a;">type</span><span>, </span><span style="color:#bf616a;">props</span><span>), </span><span style="color:#bf616a;">children</span><span>);
</span><span>}
</span></code></pre>
<p>PS: You can check the whole code <a href="https://bitbucket.org/kiberStender/node_app/src/react_implementation/src/javascript/kiberBlogReact/react/React.js">here</a></p>
<p>Notice that create element does 3(three) things:</p>
<ol>
<li>Create the HTML TAG:<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">function </span><span style="color:#8fa1b3;">createNode</span><span>(</span><span style="color:#bf616a;">type</span><span>, </span><span style="color:#bf616a;">props</span><span>){
</span><span>  </span><span style="color:#b48ead;">if</span><span>(typeof </span><span style="color:#bf616a;">type </span><span>=== &quot;</span><span style="color:#a3be8c;">string</span><span>&quot;){
</span><span>    </span><span style="color:#b48ead;">return </span><span style="color:#8fa1b3;">addProps</span><span>(document.</span><span style="color:#96b5b4;">createElement</span><span>(</span><span style="color:#bf616a;">type</span><span>), </span><span style="color:#bf616a;">props</span><span>);
</span><span>  } </span><span style="color:#b48ead;">else </span><span>{
</span><span>    </span><span style="color:#b48ead;">if</span><span>(</span><span style="color:#ebcb8b;">type</span><span>.prototype instanceof Component){
</span><span>      </span><span style="color:#b48ead;">return </span><span>new type(</span><span style="color:#bf616a;">props</span><span>).</span><span style="color:#8fa1b3;">render</span><span>();
</span><span>    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>      </span><span style="color:#b48ead;">throw </span><span>new Error(&quot;</span><span style="color:#a3be8c;">Classes must extend Component</span><span>&quot;);
</span><span>    }
</span><span>  }
</span><span>}
</span></code></pre>
React uses a class named Element created by React dev team that is later translated using the <a href="https://reactjs.org/docs/faq-internals.html">Virtual DOM</a>. Don't take my code as a closer implementation to the original from React as in the original one Render is not the first function to be called in the lifecycle.</li>
<li>Add the props:<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">function </span><span style="color:#8fa1b3;">addProps</span><span>(</span><span style="color:#bf616a;">element</span><span>, </span><span style="color:#bf616a;">props</span><span>){
</span><span>  </span><span style="color:#b48ead;">for</span><span>(</span><span style="color:#b48ead;">const </span><span>[</span><span style="color:#bf616a;">key</span><span>, </span><span style="color:#bf616a;">value</span><span>] of </span><span style="color:#ebcb8b;">Object</span><span>.</span><span style="color:#96b5b4;">entries</span><span>(</span><span style="color:#bf616a;">props</span><span>)){
</span><span>    </span><span style="color:#b48ead;">switch</span><span>(</span><span style="color:#bf616a;">key</span><span>){
</span><span>      </span><span style="color:#b48ead;">case </span><span>&quot;</span><span style="color:#a3be8c;">onclick</span><span>&quot;:</span><span style="color:#65737e;">//Any other listener like ondbclick, onchange, onhover, etc
</span><span>        </span><span style="color:#bf616a;">element</span><span>.</span><span style="color:#96b5b4;">addEventListener</span><span>(&quot;</span><span style="color:#a3be8c;">click</span><span>&quot;, </span><span style="color:#bf616a;">value</span><span>);
</span><span>        </span><span style="color:#b48ead;">break</span><span>;
</span><span>      </span><span style="color:#b48ead;">default</span><span>:
</span><span>        </span><span style="color:#bf616a;">element</span><span>.</span><span style="color:#96b5b4;">setAttribute</span><span>(</span><span style="color:#bf616a;">key</span><span>, </span><span style="color:#bf616a;">value</span><span>);
</span><span>      </span><span style="color:#b48ead;">break</span><span>;
</span><span>    }
</span><span>  }
</span><span>  </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">element</span><span>;
</span><span>}
</span></code></pre>
The props here, as you can see, are the properties an HTML TAG can have. So if you know what properties an original HTML TAG it will be the same as passing them in pure HTML code. React is nothing more than you creating your own TAGs while composing original HTML and third parties TAGs created by other developers. And when you are creating your own TAG(a.k.a your own Component) you are free to give whatever name you want to your props. You will have access to them via <code>this.props.theNameYouGaveWhenDeclaringYourTag</code>.</li>
<li>Add children to the TAGs:<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#b48ead;">function </span><span style="color:#8fa1b3;">addChildren</span><span>(</span><span style="color:#bf616a;">element</span><span>, </span><span style="color:#bf616a;">children</span><span>){
</span><span>  </span><span style="color:#b48ead;">for</span><span>(</span><span style="color:#b48ead;">const </span><span style="color:#bf616a;">child </span><span>of </span><span style="color:#bf616a;">children</span><span>){
</span><span>    </span><span style="color:#b48ead;">if</span><span>(typeof </span><span style="color:#bf616a;">child </span><span>=== &quot;</span><span style="color:#a3be8c;">object</span><span>&quot;){
</span><span>      </span><span style="color:#bf616a;">element</span><span>.</span><span style="color:#96b5b4;">appendChild</span><span>(</span><span style="color:#bf616a;">child</span><span>);
</span><span>    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>      </span><span style="color:#bf616a;">element</span><span>.</span><span style="color:#96b5b4;">append</span><span>(</span><span style="color:#bf616a;">child</span><span>);
</span><span>    }    
</span><span>  }
</span><span>  </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">element</span><span>;
</span><span>}
</span></code></pre>
This is complete optional as usually when you create your own TAG/Component, you don't need to have children because, you cannot control these children outside your TAG/Component. They will be handled by whoever is declaring your TAG/Component and in the perspective of your TAG/Component no child will be visible. Think about it as you declaring a <code>div</code> TAG with a <code>ul</code> inside it. The only thing the TAG <code>div</code> can actually see and control is its props because, in the perspective of the <code>div</code> it does not matter if it has child at all it is just a matter of structure.</li>
</ol>
<h1 id="whatisstate">So the state is ... ?</h1>
<p>While <code>props</code> are external values provided to your Component via parent Component, they are fully immutable and changing them inside your Component won't trigger any re-rendering. So how can we mutate values to interact with our users? As mentioned in the <a href="https://kiberstender.github.io/react-introduction/#whatdoes">beginning</a>, React has a function named <a href="https://reactjs.org/docs/react-component.html#setstate">setState</a> to deal with mutations that will only be available if your Component is a class extending <code>React.Component</code> or <code>React.PureComponent</code>. You have to create a variable named <code>state</code>(and pay attention to not give any other name, it has to be <code>state</code>) and this variable should be an object holding, if possible, only values (like String, Int, Double, Complex classes representing a value like Date) or anything that can be comparable:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span style="color:#8fa1b3;">constructor</span><span>(</span><span style="color:#bf616a;">props</span><span>){
</span><span>  </span><span style="color:#bf616a;">super</span><span>(</span><span style="color:#bf616a;">props</span><span>)
</span><span>  </span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#bf616a;">state </span><span>= {
</span><span>    greet: &quot;&quot;,
</span><span>    treatment: &quot;&quot;,
</span><span>    title: &quot;&quot;,
</span><span>    aNumber: </span><span style="color:#d08770;">0
</span><span>  }
</span><span>}
</span><span>...
</span></code></pre>
<p>And in order to change one of those values you have to use <code>setState</code> like that:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span style="color:#8fa1b3;">myFunctionThatChangesGreet</span><span>(</span><span style="color:#bf616a;">newGreet</span><span>){
</span><span>  </span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#8fa1b3;">setState</span><span>({greet: </span><span style="color:#bf616a;">newGreet</span><span>})
</span><span>}
</span><span>...
</span></code></pre>
<p>Or:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span style="color:#8fa1b3;">myFunctionThatIncrements</span><span>(</span><span style="color:#bf616a;">value</span><span>){
</span><span>  </span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#8fa1b3;">setState</span><span>(</span><span style="color:#bf616a;">state </span><span style="color:#b48ead;">=&gt; </span><span>({aNumber: </span><span style="color:#bf616a;">state</span><span>.</span><span style="color:#bf616a;">aNumber </span><span>+ </span><span style="color:#bf616a;">value</span><span>}))
</span><span>}
</span><span>...
</span></code></pre>
<p>Or:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span style="color:#8fa1b3;">myFunctionThatChangesGreetAndIncrementsANumber</span><span>(</span><span style="color:#bf616a;">newGreet</span><span>, </span><span style="color:#bf616a;">aNumberToIncrement</span><span>){
</span><span>  </span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#8fa1b3;">setState</span><span>(</span><span style="color:#bf616a;">state </span><span style="color:#b48ead;">=&gt; </span><span>({aNumber: </span><span style="color:#bf616a;">state</span><span>.</span><span style="color:#bf616a;">aNumber </span><span>+ </span><span style="color:#bf616a;">aNumberToIncrement</span><span>, greet: </span><span style="color:#bf616a;">newGreet</span><span>}))
</span><span>}
</span><span>...
</span></code></pre>
<p>Independently of what you choose to use (simple object passing or anonymous function passing) this command will trigger React to compare old <code>greet</code> with <code>newGreet</code> and <code>aNumber</code> to the new value to check if there are differences. If there are differeces, React re-renders your Component and any child inside it. Pay attention to this part <code>React re-renders your Component and any child inside it</code>. So if you don't break your application in as smaller Components as you can, you might have performance issues because it will have too many things to re-render everytime you change a single variable.</p>
<h3 id="changing-treatment">Changing <code>treatment</code></h3>
<p>All of these examples of how to change values inside <code>this.state</code> are awesome but, how actually to do this in real world? Let's add a <code>input</code> to allow the user to type what "treatment field" they want to be displayed instead of "Mr/Ms". Inputs in React are simple Components that demands you to bind/attach/implement the listener <code>onChange</code> and optionally bind/attach a variable to the props <code>value</code>. Bind/Attach are the terms used to describe when you are passing a variable to some prop in an given Component, in this case an <code>input</code>. This <code>onChange</code> is a listener and it is just a function with the signature:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span style="color:#8fa1b3;">onChange</span><span>(event: </span><span style="color:#ebcb8b;">Event</span><span>): void
</span></code></pre>
<p>Let's modify our <code>src/javascript/greetings/Greetings.js</code> a bit so you can have an example:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span>  </span><span style="color:#8fa1b3;">constructor</span><span>(</span><span style="color:#bf616a;">props</span><span>){
</span><span>    </span><span style="color:#bf616a;">super</span><span>(</span><span style="color:#bf616a;">props</span><span>);
</span><span>    </span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#bf616a;">state </span><span>= {
</span><span>      treatment: &quot;&quot;
</span><span>    }
</span><span>  }
</span><span>  
</span><span>  </span><span style="color:#8fa1b3;">whenTreatmentChanges</span><span>(</span><span style="color:#bf616a;">newValue</span><span>){
</span><span>    </span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#8fa1b3;">setState</span><span>({treatment: </span><span style="color:#bf616a;">newValue</span><span>})
</span><span>  }
</span><span>  
</span><span>  </span><span style="color:#8fa1b3;">render</span><span>(){
</span><span>    </span><span style="color:#b48ead;">return </span><span>(
</span><span>      &lt;</span><span style="color:#bf616a;">div id</span><span>=&quot;</span><span style="color:#a3be8c;">greetings-component</span><span>&quot; </span><span style="color:#bf616a;">className</span><span>=&quot;</span><span style="color:#a3be8c;">a-class-that-changes-font-to-red</span><span>&quot;&gt;
</span><span>        &lt;</span><span style="color:#bf616a;">div className</span><span>=&quot;</span><span style="color:#a3be8c;">row</span><span>&quot;&gt;
</span><span>          &lt;</span><span style="color:#bf616a;">div className</span><span>=&quot;</span><span style="color:#a3be8c;">col-1</span><span>&quot;&gt;</span><span style="color:#bf616a;">Treatment</span><span>&lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span>          &lt;</span><span style="color:#bf616a;">div className</span><span>=&quot;</span><span style="color:#a3be8c;">col-2</span><span>&quot;&gt;
</span><span>            &lt;</span><span style="color:#bf616a;">input value</span><span>={this.state.</span><span style="color:#bf616a;">treatment</span><span>} </span><span style="color:#bf616a;">onChange</span><span>={</span><span style="color:#bf616a;">event </span><span style="color:#b48ead;">=&gt; </span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#8fa1b3;">whenTreatmentChanges</span><span>(event.target.value)} /&gt;
</span><span>          &lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span>        &lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span>        &lt;</span><span style="color:#bf616a;">Greeter greet</span><span>=&quot;</span><span style="color:#a3be8c;">Hello</span><span>&quot; </span><span style="color:#bf616a;">treatment</span><span>={this.state.</span><span style="color:#bf616a;">treatment</span><span>} </span><span style="color:#bf616a;">name</span><span>={this.props.</span><span style="color:#bf616a;">name</span><span>} /&gt;
</span><span>      &lt;/</span><span style="color:#bf616a;">div</span><span>&gt;
</span><span>    )
</span><span>  }
</span><span>...
</span></code></pre>
<img src="change_treatment.png"/>
<h3 id="setstate-callback">setState callback</h3>
<p><code>setState</code> function is asynchronous, so if you change something outside another statement right after it in the next line expecting it to have the new values already it won't work. So if you need to fire something exactly when <code>setState</code> finishes updating your <code>state</code> variable, you can pass an anonymous function as a second parameter to <code>setState</code>:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span style="color:#8fa1b3;">whenTreatmentChanges</span><span>(</span><span style="color:#bf616a;">newValue</span><span>){
</span><span>  </span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#8fa1b3;">setState</span><span>({treatment: </span><span style="color:#bf616a;">newValue</span><span>})
</span><span>  </span><span style="color:#ebcb8b;">console</span><span>.</span><span style="color:#96b5b4;">log</span><span>(</span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#bf616a;">state</span><span>.</span><span style="color:#bf616a;">treatment</span><span>) </span><span style="color:#65737e;">// print old treatment value
</span><span>}
</span><span>...
</span></code></pre>
<p>This will show you the old value because as explained, <code>setState</code> is asynchronous, so in order to correctly do something after <code>setState</code> finishes updating you'll need to do the following way:</p>
<pre data-lang="javascript" style="background-color:#2b303b;color:#c0c5ce;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>...
</span><span style="color:#8fa1b3;">whenTreatmentChanges</span><span>(</span><span style="color:#bf616a;">newValue</span><span>){
</span><span>  </span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#8fa1b3;">setState</span><span>({treatment: </span><span style="color:#bf616a;">newValue</span><span>}, () </span><span style="color:#b48ead;">=&gt; </span><span style="color:#ebcb8b;">console</span><span>.</span><span style="color:#96b5b4;">log</span><span>(</span><span style="color:#bf616a;">this</span><span>.</span><span style="color:#bf616a;">state</span><span>.</span><span style="color:#bf616a;">treatment</span><span>)) </span><span style="color:#65737e;">// print updated treatment value
</span><span>}
</span><span>...
</span></code></pre>
<h1 id="testing-components">Testing Components</h1>
<h1 id="conclusion">Conclusion</h1>
<p>We are going to stop it right here, because this is becoming too huge. So to not lose details, I'm leaving the more complex side of React to the next post <!--[post](@/react_post_04_react_end/index.md) -->. You learned in this post (I hope ^^) how to add React to your project, how to have JSX and what are the diffences when not using it, what props are, what Components are and how many types of Components we can have and how to deal with state.</p>
<p>We did almost no code here, we had more explanations than examples, but it was enough for you to have a good start with React. From this point on, you will be able to code an application in React even if you don't read next post(please do it xD). If by any chance you would like to read this in portuguese, feel free to go to the <a href="https://kiberstender.github.io/pt_br/react-introduction/">Brazilian Portuguese</a> version of this page. See you next time.</p>

        </section>
    </article>
</main>



        
            
        

        
    </div>
</body>

</html>
