<!DOCTYPE html>
<html>

<head>
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
        kiberBlog
    </title>

    

<link id="darkly" class="stylesheet" rel="stylesheet"
    href="https:&#x2F;&#x2F;kiberstender.github.io&#x2F;darkly.css" />


    <!-- This script must follow css -->
    

    

    
    <script defer type="text/javascript" src="https:&#x2F;&#x2F;kiberstender.github.io&#x2F;elasticlunr.min.js"></script>
    <script defer type="text/javascript" src="https:&#x2F;&#x2F;kiberstender.github.io&#x2F;search_index.en.js"></script>
    

    
    

    <noscript>
        <style>
            .navbar-menu {
                display: block;
            }

            .js-only {
                display: none;
            }
        </style>
    </noscript>
    
</head>

<body>
    
    
<!-- START NAV -->


    

<header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-brand">
                
                <a class="navbar-item" href="/">
                    
                    <img src="https:&#x2F;&#x2F;kiberstender.github.io&#x2F;images&#x2F;bulma.png"
                        alt="Home">
                    
                </a>
                
                <span class="navbar-burger burger" data-target="navbarMenu">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
            </div>
            <div id="navbarMenu" class="navbar-menu">
                <div class="navbar-end">
                    
                    
                    
                    
                    <a itemprop="url"
                        class="navbar-item "
                        href="https:&#x2F;&#x2F;kiberstender.github.io&#x2F;categories">
                        <span itemprop="name">Categories
                        </span>
                    </a>
                    
                    
                    
                    <a itemprop="url"
                        class="navbar-item "
                        href="https:&#x2F;&#x2F;kiberstender.github.io&#x2F;tags">
                        <span itemprop="name">Tags
                        </span>
                    </a>
                    
                    
                    
                    <a itemprop="url"
                        class="navbar-item "
                        href="https:&#x2F;&#x2F;kiberstender.github.io&#x2F;authors">
                        <span itemprop="name">Authors
                        </span>
                    </a>
                    
                    

                    
                    <div class="navbar-item search-container js-only">
                        <input class="input" id="search" type="search" placeholder="Search">

                        <div class="search-results box">
                            <div class="search-results__items"></div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </nav>
</header>


    

<!-- END NAV -->
<main>
    <section class="container">
        <div class="columns is-desktop">
            <div class="column is-10-desktop is-offset-1-desktop">
                <article itemscope itemtype="http://schema.org/BlogPosting">
                    <div class="card article">
                        <div class="card-content">
                            
<header>
    <div class="has-text-centered">
        <a href="https://kiberstender.github.io/pt_br/react-post-01-node/">
            <p class="title article-title">Webpack com React e Scss- Parte 1: Node
            </p>
        </a>
        <div class="tags has-addons level-item">
            <span class="tag is-rounded">2020-03-18</span>
            
            <span class="tag is-rounded is-primary">
                    
                    Kleber Stender
                    
                    
            </span>
                       
            <span class="tag is-rounded">
<svg class="i-clock" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round"
    stroke-linejoin="round" stroke-width="6.25%">
    <circle cx="16" cy="16" r="14" />
    <path d="M16 8 L16 16 20 20" />
</svg>
<span>&nbsp;11 minute read</span>
</span>
        </div>
    </div>
</header>

                            <div itemprop="articleBody" class="content article-body">
                                <h1 id="intro">Introdução</h1>
<p>Olá meu caro leitor. Algum tempo atrás eu estava estudando como colocar ReactJS em uma aplicação no trabalho e eu acabei esbarrando com uma coisa chamada <a href="https://www.webjars.org/">WebJar</a> que, se você assim como eu, veio do mundo do Java deve saber que é apenas uma biblioteca Javascript ou CSS empacotada em um arquivo Java (o famoso jar) que você pode gerenciar usando algum tipo de gerenciador de dependências como <a href="https://maven.apache.org/">Maven</a>, <a href="https://gradle.org/">Gradle</a> ou <a href="https://www.scala-sbt.org/">SBT</a>. Como você pode me ver usando <a href="https://kiberstender.github.io/pt_br/miscelaneous-spring-websocket-stomp-specific-user/#frontend">aqui</a>. Esta é uma excelente característica, mas isso deixa seu backend um pouco dependente do frontend, sem mencionar que eu tentei usar algo com Babel e foi complicado de configurar.</p>
<p>Então nesta postagem irei comeãr uma série simples de postagens para criar uma aplicação simples em ReactJS usando uma stack pura de Javascript com NodeJS, Babel, Scss, Bootstrap e Live reload para que você não precise reiniciar a aplicação toda vez que mudar uma vírgula em seu código. E ao fazer isso sem acoplar seu código ao Backend você poderá adicionar essa aplicação em qualquer aplicação fullstack como <a href="https://spring.io/">SpringBoot</a>, <a href="https://www.playframework.com/">PlayFramework</a> e outras muito facilmente</p>
<h1 id="node_npm"><a href="https://nodejs.org/en/">NodeJS</a> e NPM</h1>
<p>Primeiro, para fazer tudo isso você precisa entender o que são o Node e o NPM, porque precisamos disso e claro como instalar em sua máquina.</p>
<h3 id="hitoria-bem-mal-resumida-e-nao-muito-confiavel-do-node">Hitória bem mal resumida( e não muito confiável) do Node</h3>
<p>No ínicio havia Javascript no seu navegador, e isso era bom(mais ou menos). Mas Javascript diferente de java é uma linguagem escriptada(Duh!) e mesmo que tenha suas especificações ditadas por um companhia e publicada sob op nome <a href="https://www.ecma-international.org/publications/standards/Ecma-262.htm">ECMA</a>, cada navegador tem sua própria forma de otimizar ou implementar as especificações. Assim em 2008 o Google lançou seu motor para interpretar Javascript mais rápido, mais confiável e estável: <a href="https://v8.dev/">V8</a>. Enquanto era muito bom no Google Chrome, algumas pessoas perceberam que fazendo algumas modificações neste motor eles poderiam usar Javascript não apenas em seus navegadores mas em seus computadores como um interepretador geral, similar ao Python. Estas pessoas nomearam essas modificações de NodeJS e então um imenso sonho começou a se tornar real: trabalhar usando uma e apenas uma linguagem tanto no backend como no frontend.</p>
<p>Como o Maven já era popular no mundo do Java eles introduziram uma tecnologia similar chamda NPM(Node Package Manager) que faz tudo o que o Maven faz para o Java, como baixar as dependências, colocar no 'classpath', empacotar, fazer o deploy e publicar sua aplicação/biblioteca. A diferença é que você precisa instalar o Maven separado do Java enquanto o NPM já vem com o Node.</p>
<p>Na confecção desta postagem o NodeJS está em sua 13ª versão e cresceu muito. Muitas bibliotecas e características foram adicionadas. E isso se tornou parte crucial no frontend moderno mesmo o Node sendo teoricamente o lado 'backend'. Porque o Node sendo um interpretador é possível não somente escrever Javascript ou CSS no seu código, com o Node você pode criar novas linguagens(chamadas transpilers) que serão mais tarde convertidas para Javascript como <a href="https://coffeescript.org/">Coffeescript</a> e <a href="https://www.typescriptlang.org/">Typescript</a> ou CSS como <a href="http://lesscss.org/">Less</a> e <a href="https://sass-lang.com/">Sass</a>. E indo um pouco mais fundo você pode ter algo um pouco impensável antes do Node como <a href="http://jade-lang.com/">Jade</a>, uma linguagem feita para diminuir a verbosidade do HTML.</p>
<h3 id="um-pouco-sobre-o-npm">Um pouco sobre o NPM</h3>
<p>Como dito anteriormente, NPM é a abreviação de Node Package Manager(Gerenciador de Pacotes do Node) e ele trabalha gerenciando sua aplicação assim como o Maven faz. Para usar o NPM você simplesmente cria um arquivo na raiz de seu programa chamado <code>package.json</code> com a seguinte estrutura (mínima):</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">{
  &quot;</span><span style="color:#a3be8c;">name</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">NomeDaMinhaAplicação</span><span style="color:#c0c5ce;">&quot;, </span><span style="color:#65737e;">//1
  </span><span style="color:#c0c5ce;">&quot;</span><span style="color:#a3be8c;">version</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">0.0.1-snapshot</span><span style="color:#c0c5ce;">&quot;, </span><span style="color:#65737e;">//2
  </span><span style="color:#c0c5ce;">&quot;</span><span style="color:#a3be8c;">description</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">Um exemplo de package.json</span><span style="color:#c0c5ce;">&quot;, </span><span style="color:#65737e;">//3
  </span><span style="color:#c0c5ce;">&quot;</span><span style="color:#a3be8c;">scripts</span><span style="color:#c0c5ce;">&quot;: { </span><span style="color:#65737e;">//4
    </span><span style="color:#c0c5ce;">&quot;</span><span style="color:#a3be8c;">run</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">node app.js</span><span style="color:#c0c5ce;">&quot;,
    &quot;</span><span style="color:#a3be8c;">test</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">executa sua biblioteca de testes</span><span style="color:#c0c5ce;">&quot;
  },
  &quot;</span><span style="color:#a3be8c;">dependencies</span><span style="color:#c0c5ce;">&quot;: {</span><span style="color:#65737e;">//5
    </span><span style="color:#c0c5ce;">&quot;</span><span style="color:#a3be8c;">a: </span><span style="color:#c0c5ce;">&quot;</span><span style="color:#d08770;">1.2</span><span style="color:#c0c5ce;">.</span><span style="background-color:#bf616a;color:#2b303b;">3</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#a3be8c;">,</span><span style="background-color:#bf616a;color:#2b303b;">
</span><span style="color:#c0c5ce;">    &quot;</span><span style="color:#a3be8c;">b: </span><span style="color:#c0c5ce;">&quot;</span><span style="color:#d08770;">3.2</span><span style="color:#c0c5ce;">.</span><span style="background-color:#bf616a;color:#2b303b;">1</span><span style="color:#c0c5ce;">&quot;</span><span style="background-color:#bf616a;color:#2b303b;">
</span><span style="color:#c0c5ce;">  },
  &quot;</span><span style="color:#a3be8c;">devDependencies</span><span style="color:#c0c5ce;">&quot;: { </span><span style="color:#65737e;">//6
    </span><span style="color:#c0c5ce;">&quot;</span><span style="color:#a3be8c;">c: </span><span style="color:#c0c5ce;">&quot;</span><span style="color:#d08770;">1.2</span><span style="color:#c0c5ce;">.</span><span style="background-color:#bf616a;color:#2b303b;">3</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#a3be8c;">,</span><span style="background-color:#bf616a;color:#2b303b;">
</span><span style="color:#c0c5ce;">    &quot;</span><span style="color:#a3be8c;">d: </span><span style="color:#c0c5ce;">&quot;</span><span style="color:#d08770;">3.2</span><span style="color:#c0c5ce;">.</span><span style="background-color:#bf616a;color:#2b303b;">1</span><span style="color:#c0c5ce;">&quot;</span><span style="background-color:#bf616a;color:#2b303b;">
</span><span style="color:#c0c5ce;">  }
}
</span></pre>
<p>Existem mais propriedades que você pode ter em seu arquivo <code>package.json</code>, mas estes que estou mostrando são os mais importantes. Vamos dizer que são aquelas propriedades que você não pode esquecer de adicionar. Agora explicando separadamente cada item nós temos:</p>
<ol>
<li>name: Este é o nome de sua aplicação/biblioteca</li>
<li>version: Esta é a versão de sua aplicação/biblioteca</li>
<li>description: Aqui é onde você põe um breve descrição de o que sua aplicação/biblioteca faz. Este campo é útil para que outros que usam sua aplicação/biblioteca e é mostrado no site do <a href="https://www.npmjs.com/package/">NPM</a></li>
<li>scripts: Aqui é onde você define os comandos de build, build:prod, test, run ou qualquer outro que achar necessário. Como os plugins do Maven onde você diz ao Maven como executar ou compilar sua aplicação</li>
<li>dependencies: Aqui é onde você define as bibliotecas dos quais seu programa depende como React, Angular, MomentJS, etc</li>
<li>devDependencies: Aqui é onde você define a lista de blibliotecas ou applicações que não serão empacotadas com o seu código. Imagine que você está programando em Coffeescript ou Typescript. Você não precisa empacotar o compilador de Coffeescript ou Typescript com seu código, porque no final tudo irá ser transformado em Javascript. Mas não comente os compiladores, por exemplo, Uglify é um programa que transforma seu código em algo ilegível para outras pessoas e uma vez que foi executado ele não é mais necessário, então é listado aqui ao invés da lista normal de dependências</li>
</ol>
<p>Após criar este arquivo, o NPM irá ser mais usado para rodar sua aplicação e &quot;instalar&quot; suas dependências. Instalar aqui está entre aspas porque diferente do Maven que você tem que manualmente colocar suas dependências, NPM te dá uma síntaxe onde você pode baixar suas dependências ao mesmo tempo que atualiza seu arquivo <code>package.json</code> com a dependência caso ela não esteja listada ainda:</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">npm</span><span style="color:#c0c5ce;"> install dependencia-a dependencia-b
</span></pre>
<p>Este comando baixa a versão mais nova da dependencia-a ou dependencia-b, se você quer especificar a versão você pode usar o comando:</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">npm</span><span style="color:#c0c5ce;"> install dependencia@1.2.3 dependencia-b@^1.0.0
</span></pre>
<p>Este <code>^</code> entre <code>@</code> e a versão siginifica que você quer a versão mais recente da série 1.x.x, então imagine que hoje a versão mais recente  é 1.1.0, mas amanhã quando você rodar este comando a versão mais nova será 1.2.0. Este comando irá atualizar a versão de dependencia-b automaticamente quando baixá- la, entãoo você não precisa olhar todos os dias caso esteja esperando por um update da série 1.x.x para corrigir um bug ou problemas de desempenho.</p>
<p>E para adicionar dependências a propriedade <code>devDependencies</code> você usa uma síntaxe similar. Simplesmente adicione <code>--save-dev</code> ao seu comando <code>npm install</code>:</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">npm</span><span style="color:#c0c5ce;"> install</span><span style="color:#bf616a;"> --save-dev</span><span style="color:#c0c5ce;"> devDependencia-a devDependencia-b@^1.0.0 devDependencia-c@3.0.0
</span></pre>
<p>E último mas não menos importante, para executar nossos scripts criados na seção <code>scripts</code> você executa <code>npm run-script nome-script</code>(ou uma versão mais curta <code>npm run nome-script</code>)</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">npm</span><span style="color:#c0c5ce;"> run-script run </span><span style="color:#65737e;">#or npm run run
</span><span style="color:#c0c5ce;">npm run-script test </span><span style="color:#65737e;">#or npm run test
</span></pre><h3 id="instalando-node-e-npm">Instalando Node e NPM</h3>
<p>Não irei detalhar muito o processo porque você pode encontrá-lo bem detalhado no site do próprio NodeJs. Vá para a página <a href="https://nodejs.org/en/download/">NodeJS</a>, escolhe o pacote aporpriado para seu Sistema Operacional. Se estiver usando Windows você pode simplesmente dar dois cliques no arquivo EXE e seguir o padrão próximo~próximo~próximo~instalar. Se você está no Linux ou Mac você pode descompactar o arquivo tar.xz que você baixou usando qualquer aplicação gráfica ou terminal de sua preferência, colocar os conteúdos em algum diretório de sua escolha e criar a Variável de Ambiente chamada NODE_HOME apontando para <code>/caminho/para/o/node/</code> e adicionar isso a variavel de ambiente <code>PATH</code>:</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">......
NODE_HOME</span><span style="color:#c0c5ce;">=</span><span style="color:#a3be8c;">/caminho/para/o/node

</span><span style="color:#bf616a;">PATH</span><span style="color:#c0c5ce;">=$</span><span style="color:#bf616a;">PATH</span><span style="color:#a3be8c;">:</span><span style="color:#c0c5ce;">$</span><span style="color:#bf616a;">NODE_HOME</span><span style="color:#a3be8c;">/bin
</span></pre>
<p>Para mais detalhes por favor vá até <a href="https://github.com/nodejs/help/wiki/Installation">esta página</a> ou <a href="https://nodejs.org/en/download/package-manager/">está aqui</a>. Como eu disse, NPM vem junto com o Node, então uma vez que você instalou o Node, NPM estará instalado também. Agora teste para ver se tudo está Ok:</p>
<img src="node_npm_check.png" />
<p>Se você preferir, muitos S.Os Linux têm o Node nos repositórios de seus gerenciadores de pacote, então você pode instalar assim:</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">sudo</span><span style="color:#c0c5ce;"> pacman</span><span style="color:#bf616a;"> -S</span><span style="color:#c0c5ce;"> nodejs </span><span style="color:#65737e;">#OSes baseados em Arch
</span><span style="color:#c0c5ce;">sudo apt-get install nodejs </span><span style="color:#65737e;">#Baseados em Debian
</span><span style="color:#c0c5ce;">...# e assim por diante
</span></pre><h3 id="comecando-o-projeto">Começando o projeto</h3>
<p>Agora que você já entendeu o mínimo sobre o Node e como tê-lo rodando em sua máquina, vamos começar nosso projeto React como uma simples aplicação CLI(Command Line Interface ou Interface de Linha de Comando) escrita totalmente em Javascript.
O primeiro passo que você precisa dar é criar o diretório de nossa aplicação. Vamos chamar de <code>React_App</code>:</p>
<img src="create_app_dir.png" />
<p>Agora vamos criar nosso <code>package.json</code>. Um bem simples:</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">{
  &quot;</span><span style="color:#a3be8c;">name</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">React-example-app</span><span style="color:#c0c5ce;">&quot;,
  &quot;</span><span style="color:#a3be8c;">version</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">0.0.1-snapshot</span><span style="color:#c0c5ce;">&quot;,
  &quot;</span><span style="color:#a3be8c;">description</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">Uma aplicação simples em React</span><span style="color:#c0c5ce;">&quot;,
  &quot;</span><span style="color:#a3be8c;">scripts</span><span style="color:#c0c5ce;">&quot;: {
    &quot;</span><span style="color:#a3be8c;">test</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">echo </span><span style="color:#96b5b4;">\&quot;</span><span style="color:#a3be8c;">Erro: nenhum teste foi especificado</span><span style="color:#96b5b4;">\&quot;</span><span style="color:#a3be8c;"> &amp;&amp; exit 1</span><span style="color:#c0c5ce;">&quot;
  }
}
</span></pre>
<p>O próximo passo é criar o diretório <code>src</code> e dentro dele criar o arquivo <code>app.js</code> e como conteúdo adicione um simples 'console.log(&quot;Hello World&quot;)':</p>
<img src="create_src_and_appjs.png"/>
<p>Ok agora temos o mínimo para nossa aplicação. Edite seu arquivo <code>package.json</code> e adicione um novo script:</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">...
&quot;</span><span style="color:#a3be8c;">scripts</span><span style="color:#c0c5ce;">&quot;: {
  ...
  &quot;</span><span style="color:#a3be8c;">execute</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">node src/app.js</span><span style="color:#c0c5ce;">&quot;, 
  ...
}
...
</span></pre>
<p>PS: Sempre que você ver 3 pontos <code>...</code> isso significa: &quot;Mantenha tudo o que vem antes disso&quot; e se vier depois do que estamos adicionando/modificando, significa: &quot;Mantenha tudo o que vier depois desses três pontos&quot;.</p>
<p>E execute com o comando que eu já lhe ensinei:</p>
<img src="first_run.png"/>
<p>Se você viu algo similar com a imagem acima, parabéns, você acaba de fazer sua primeira aplicação CLI.</p>
<h3 id="testando-em-javascript">Testando em Javascript</h3>
<p>Você sabe, programar é uma coisa mas testar seu código para garantir que ele faz o que você quer que ele faz é uma coisa completamente diferente, então como alguém testa código em Javascript? Em Node? Uma das bibliotecas mais famosas que eu conheço em Javascript é chamada <a href="https://mochajs.org/">Mocha</a>. Ela atua como um JUnit simples se você veio do mundo Java, então você poe atestar se coisas são/estão como você gostaria que estivessem.</p>
<p>Para dar um melhor exemplo vamos criar uma classe separada de nome <code>Greetings</code> em um pacote diferente. Primeiro criaremos o diretório <code>javascript</code> dentro de <code>/src</code>. Dentro deste diretório (javascript) criamos o pacote(diretório) <code>greetings</code> e finalmente dentro deste criamos um arquivo chamado <code>Greetings.js</code> e colocamos o seguinte conteúdo:</p>
<pre style="background-color:#2b303b;">
<span style="color:#b48ead;">class </span><span style="color:#ebcb8b;">Greetings </span><span style="color:#eff1f5;">{
  </span><span style="color:#8fa1b3;">constructor</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">name</span><span style="color:#eff1f5;">){
    </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.name </span><span style="color:#c0c5ce;">= </span><span style="color:#bf616a;">name</span><span style="color:#eff1f5;">;
  }
  
  </span><span style="color:#8fa1b3;">greet</span><span style="color:#eff1f5;">(){
    </span><span style="color:#b48ead;">return </span><span style="color:#c0c5ce;">`</span><span style="color:#a3be8c;">Hello Mr/Ms </span><span style="color:#eff1f5;">${</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.name}</span><span style="color:#c0c5ce;">`</span><span style="color:#eff1f5;">;
  }
}

</span><span style="color:#c0c5ce;">module.exports.Greetings = </span><span style="color:#bf616a;">Greetings</span><span style="color:#c0c5ce;">;
</span></pre>
<p>Agora volte a raíz do nossa aplicação e crie o diretório chamado <code>test</code>, dentro criaremos a mesma estrutura que temos dentro de <code>src</code></p>
<img src="test_dir.png"/>
<p>PS: Não é obrigatório seguir a mesma estrutura, isso é apenas para facilitar a leitura.</p>
<p>O próximo passo é instalar o Mocha in nossa lista de dev-dependency:</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">npm</span><span style="color:#c0c5ce;"> install</span><span style="color:#bf616a;"> --save-dev</span><span style="color:#c0c5ce;"> mocha@7.1.1
</span></pre>
<p>PS: Para garantir que seu código irá ser executado igual ao meu, por favor instale tudo que irei lista na mesma verão que estou a usar</p>
<p>Agora escreveremos nossos testes. Irei escrever apenas dois. Um para sucesso e outro para falha, testes bem simples pois é apenas uma demonstração. Então, dentro de <code>test/javascript/greetings</code> crie nosso arquivo <code>Greetings.test.js</code> e adicione o código abaixo:</p>
<pre style="background-color:#2b303b;">
<span style="color:#b48ead;">var </span><span style="color:#c0c5ce;">assert = </span><span style="color:#bf616a;">require</span><span style="color:#c0c5ce;">(&#39;</span><span style="color:#a3be8c;">assert</span><span style="color:#c0c5ce;">&#39;);
</span><span style="color:#b48ead;">var </span><span style="color:#bf616a;">greetings </span><span style="color:#c0c5ce;">= </span><span style="color:#bf616a;">require</span><span style="color:#c0c5ce;">(&#39;</span><span style="color:#a3be8c;">../../../src/javascript/greetings/Greetings.js</span><span style="color:#c0c5ce;">&#39;);

</span><span style="color:#b48ead;">let </span><span style="color:#bf616a;">greetDev </span><span style="color:#c0c5ce;">= new </span><span style="color:#bf616a;">greetings</span><span style="color:#c0c5ce;">.</span><span style="color:#bf616a;">Greetings</span><span style="color:#c0c5ce;">(&quot;</span><span style="color:#a3be8c;">NodeJSDev</span><span style="color:#c0c5ce;">&quot;);

</span><span style="color:#bf616a;">describe</span><span style="color:#c0c5ce;">(&#39;</span><span style="color:#a3be8c;">Greetings</span><span style="color:#c0c5ce;">&#39;, </span><span style="color:#b48ead;">function</span><span style="color:#c0c5ce;">() {
  </span><span style="color:#bf616a;">describe</span><span style="color:#c0c5ce;">(&#39;</span><span style="color:#a3be8c;">#greet()</span><span style="color:#c0c5ce;">&#39;, </span><span style="color:#b48ead;">function</span><span style="color:#c0c5ce;">() {
    </span><span style="color:#bf616a;">it</span><span style="color:#c0c5ce;">(&#39;</span><span style="color:#a3be8c;">should return &quot;Hello Mr/Ms NodeJSDev&quot;</span><span style="color:#c0c5ce;">&#39;, </span><span style="color:#b48ead;">function</span><span style="color:#c0c5ce;">() {
      </span><span style="color:#b48ead;">let </span><span style="color:#bf616a;">expected </span><span style="color:#c0c5ce;">= &quot;</span><span style="color:#a3be8c;">Hello Mr/Ms NodeJSDev</span><span style="color:#c0c5ce;">&quot;;
      assert.</span><span style="color:#bf616a;">equal</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">greetDev</span><span style="color:#c0c5ce;">.</span><span style="color:#bf616a;">greet</span><span style="color:#c0c5ce;">(), </span><span style="color:#bf616a;">expected</span><span style="color:#c0c5ce;">);
    });
    
    </span><span style="color:#bf616a;">it</span><span style="color:#c0c5ce;">(&#39;</span><span style="color:#a3be8c;">should not return &quot;Hello Mr/Ms NodeJSDev &quot;</span><span style="color:#c0c5ce;">&#39;, </span><span style="color:#b48ead;">function</span><span style="color:#c0c5ce;">() {
      </span><span style="color:#b48ead;">let </span><span style="color:#bf616a;">expected </span><span style="color:#c0c5ce;">= &quot;</span><span style="color:#a3be8c;">Hello Mr/Ms NodeJSDev </span><span style="color:#c0c5ce;">&quot;;
      assert.</span><span style="color:#bf616a;">notEqual</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">greetDev</span><span style="color:#c0c5ce;">.</span><span style="color:#bf616a;">greet</span><span style="color:#c0c5ce;">(), </span><span style="color:#bf616a;">expected</span><span style="color:#c0c5ce;">);
    });
  });
});
</span></pre>
<p>O próximo passo é modificar nosso script <code>test</code> em nosso <code>package.json</code> para executar Mocha para nós:</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">{
  ...
  &quot;</span><span style="color:#a3be8c;">scripts</span><span style="color:#c0c5ce;">&quot;: {
    ...
    &quot;</span><span style="color:#a3be8c;">test</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">mocha test/javascript/*</span><span style="color:#c0c5ce;">&quot;
    ...
  }
}
</span></pre>
<p>Agora o próximo passo: Execute!!!</p>
<img src="run_mocha_tests.png"/>
<p>Se seu teste foi um sucesso como o meu, vamos aos últimos dois passos. Primeiro modifique seu <code>src/app.js</code> para 'importar' nossa recente criada e testada classe Greetings:</p>
<pre style="background-color:#2b303b;">
<span style="color:#b48ead;">let </span><span style="color:#bf616a;">greetings </span><span style="color:#c0c5ce;">= </span><span style="color:#bf616a;">require</span><span style="color:#c0c5ce;">(&quot;</span><span style="color:#a3be8c;">./javascript/greetings/Greetings.js</span><span style="color:#c0c5ce;">&quot;);

</span><span style="color:#b48ead;">let </span><span style="color:#bf616a;">greetDev </span><span style="color:#c0c5ce;">= new </span><span style="color:#bf616a;">greetings</span><span style="color:#c0c5ce;">.</span><span style="color:#bf616a;">Greetings</span><span style="color:#c0c5ce;">(&quot;</span><span style="color:#a3be8c;">Node Dev</span><span style="color:#c0c5ce;">&quot;);

console.</span><span style="color:#96b5b4;">log</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">greetDev</span><span style="color:#c0c5ce;">.</span><span style="color:#bf616a;">greet</span><span style="color:#c0c5ce;">());
</span></pre>
<p>E o último passo é executar:</p>
<img src="last_step.png"/>
<h1 id="conclusion">Conclusion</h1>
<p>Nesta postagem aprendemos os básico do básico sobre create uma aplicação em NodeJS com testes simples. Por agora é apenas uma simples aplicação CLI mas que daqui pode evoluir facilmente para uma aplicação frontend complexa.
No próxima <a href="https://kiberstender.github.io/pt_br/react-post-02-webpack/">postagem</a> iremos aprender sobre Webpack. If you would like to see the original version please check the <a href="https://kiberstender.github.io/react-post-01-node/">English version</a>.</p>

                            </div>
                        </div>
                        
                        
<footer class="card-footer">
    <div class="article-footer">
        <div class="columns is-multiline">
            <div class="column is-12">
                <p>
                    Published
                    

<time datetime="2020-03-18">
    2020-03-18
</time>


                    

by

<a href="https://kiberstender.github.io/authors/kleber-stender/">
    <span class="tag is-primary">Kleber Stender </span>
</a>




                    


in <a href="https://kiberstender.github.io/categories/tutorials/">
    <span class="tag is-success">
        Tutorials
    </span>
</a>


                    

and tagged

<a href="https://kiberstender.github.io/tags/nodejs/">
    <span class="tag is-link">nodejs </span>
</a>



,




<a href="https://kiberstender.github.io/tags/npm/">
    <span class="tag is-link">npm </span>
</a>



,




<a href="https://kiberstender.github.io/tags/react/">
    <span class="tag is-link">react </span>
</a>



and




<a href="https://kiberstender.github.io/tags/introduction/">
    <span class="tag is-link">introduction </span>
</a>






                </p>
            </div>
            <div class="column">
                <a class="button is-pulled-right is-info" href="/">Back Home</a>
            </div>
        </div>
    </div>
</footer>

                        
                    </div>
                </article>
            </div>
        </div>
    </section>
</main>

    
    


    

    <script type="text/javascript" src="https:&#x2F;&#x2F;kiberstender.github.io&#x2F;js&#x2F;zulma_navbar.js"></script>

    
    <script type="text/javascript" src="https:&#x2F;&#x2F;kiberstender.github.io&#x2F;js&#x2F;zulma_search.js"></script>
    

    
</body>

</html>